{"version":3,"sources":["Core/Config.js","src/components/DataProcess.js","src/screens/LoginScreen.js","src/screens/SignupScreen.js","src/style/CardStyle.js","src/style/TextStyle.js","src/components/Card.js","src/components/Time.js","src/screens/HomeScreen.js","src/screens/HomeDetailScreen.js","src/components/DropDown.js","src/screens/AddNurseTime.js","App.js","src/icon/right-arrow_y.png","src/icon/baby-boy.png"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getAuth","getFirestore","data_Add","q","query","collection","where","list","getDocs","forEach","doc","arr","data","id","push","result","Object","entries","reduce","acc","name","map","color","color2","total","i","orderBy","limit","aoc","pushData","length","date","babyId","props","passProps","JSON","parse","addDoc","BabyId","nurse","empNo","empName","Platform","OS","alert","Alert","err","console","error","Read_Data","jsonStr","jsonValue","stringify","AsyncStorage","setItem","log","storeData","LoginScreen","useState","email","setEmail","password","setPassword","auth","navigation","useNavigation","useEffect","onAuthStateChanged","user","replace","TouchableWithoutFeedback","onPress","board","Keyboard","dismiss","kbCheck","KeyboardAvoidingView","style","styles","container","behavior","View","top_bg","login_bg","width","alignItems","marginBottom","Text","login_title","login_area","TextInput","login_input","placeholder","placeholderTextColor","value","onChangeText","text","secureTextEntry","h4_text","fontWeight","navigate","TouchableOpacity","login_icon_bg","signInWithEmailAndPassword","then","userCredentials","catch","message","Image","source","require","login_icon","StyleSheet","create","flex","backgroundColor","justifyContent","zIndex","borderBottomLeftRadius","fontSize","alignSelf","transform","translateX","marginRight","height","borderRadius","paddingLeft","marginTop","position","right","bottom","SignupScreen","userName","setUserName","userId","setUserId","userEmail","setUserEmail","userPwd","setUserPwd","userPwdDChk","setUserPwdDChk","userPwdState","setUserPwdState","seeChkText","setSeeChkText","pwdCheck","checkPwd","test","isValidUserId","main_bg","input_area","input_title","input_text","onFocus","userPwdState_text","display","flexDirection","back_btn","pop","btn_text","reg_btn","createUserWithEmailAndPassword","empEmail","setDoc","uid","maxHeight","paddingTop","paddingBottom","paddingHorizontal","marginLeft","card_base","detail_card_white","file_card","shadowColor","shadowOffset","shadowRadius","shadowOpacity","home_title","base_text","card_name","card_age","card_text","card_id","top","detail_title","detail_date","detail_time","textAlign","detail_text","detail_line","file_detail_title","file_detail_data","title_16","MainCard","cardOnPress","CardStyle","card_color","babyPic","margin","TextStyle","babyName","nearTime","DetailCard","cardStyle","time","item","capacity","FullTime","substr","hours","slice","minutes","toString","padStart","TimeAMPM","NowTime","tempDate","Date","ndate","getFullYear","getMonth","getDate","getHours","getMinutes","HomeScreen","userDoc","setUserDoc","search","toast","useToast","onSnapshot","querySnapshot","data_ReFlash","load_toast","show","duration","update","type","renderBook","cases","showNoticeDetail","Ionicons","size","signOut","FlatView","FlatList","renderItem","keyExtractor","refreshing","onRefresh","bottom_bar","addTime","borderTopLeftRadius","borderTopRightRadius","HomeDetailScreen","route","params","dataSource","setDataSource","nData","dataS","lineColor","clg","scroll_bg","ScrollView","DropdownComponent","setValue","setName","isFocus","setIsFocus","label","dropdown","borderColor","containerStyle","placeholderStyle","selectedTextStyle","itemContainerStyle","itemTextStyle","inputSearchStyle","labelField","valueField","searchPlaceholder","onBlur","onChange","borderWidth","icon","left","AddNurseTime","dropBabyId","dropName","chsText","setDate","mode","setMode","setShow","Time","setNowTime","setNurse","dropData","setDropData","userData","setUserData","dataArr","getItem","e","getData","showMode","currentMode","record_bg","new_member","marginVertical","box","paddingVertical","input","maxLength","keyboardType","testID","is24Hour","event","selectedDate","currentDate","fDate","button","btn_area","send_btn","sendData","Stack","createStackNavigator","config","animation","stiffness","damping","mass","overshootClamping","restDisplacementThreshold","restSpeedThreshold","closeConfig","easing","Easing","linear","popUp_o","headerShown","presentation","cardStyleInterpolator","CardStyleInterpolators","forBottomSheetAndroid","cardOverlayEnabled","transitionSpec","open","close","popUp_s","App","placement","normalColor","NavigationContainer","Navigator","screenOptions","gestureEnabled","Screen","component","options","module","exports"],"mappings":"mUAkBaA,EAAMC,wBAVI,CACrBC,OAAQ,0CACRC,WAAY,iCACZC,UAAW,iBACXC,cAAe,6BACfC,kBAAmB,eACnBC,MAAO,8CAMIC,GADiBC,kBAAQT,GACpBU,uBAAaV,I,gCC6ClBW,GA1CY,sBAAG,YAE1B,IAAMC,EAAIC,gBAAMC,qBAAWN,EAAI,4BAASO,gBAAM,OAAQ,KAAM,KACxDC,EAAO,UACiBC,kBAAQL,IACtBM,SAAQ,SAACC,GAErB,IAAIC,EAAMD,EAAIE,OACdD,EAAQ,GAAID,EAAIG,GAChBN,EAAKO,KAAKH,MAcZ,IAVA,IAAII,EAASC,OAAOC,QAAQV,EAAKW,QAAO,SAACC,EAAI,GAAe,IAAZC,EAAI,EAAJA,KAG9C,OAFAD,EAAIC,GAASD,EAAIC,IAAS,GAC1BD,EAAIC,GAAMN,KAAK,CAAEM,SACVD,IACN,KAAKE,KAAI,YAAK,MAAO,CAAED,KAAd,SAAK,OAGXE,EAAQ,CAAC,UAAW,UAAW,UAAW,WAC1CC,EAAS,CAAC,UAAW,UAAW,UAAW,WAC7CC,EAAQ,GAAE,YACLC,GACP,IAAMtB,EAAIC,gBAAMC,qBAAWN,EAAI,4BAASO,gBAAM,OAAQ,KAAMS,EAAOU,GAAGL,MAAOM,kBAAQ,OAAQ,QAASC,gBAAM,WAChFnB,kBAAQL,IACtBM,SAAQ,SAACC,GACrB,IAAIkB,EAAMlB,EAAIE,OACViB,EAAWd,EAAOU,GACtBI,EAAgB,MAAIP,EAAMG,EAAIH,EAAMQ,QACpCD,EAAiB,OAAIN,EAAOE,EAAIH,EAAMQ,QACtCD,EAAe,KAAID,EAAIG,KACvBF,EAAiB,OAAID,EAAII,OACzBR,EAAMV,KAAKe,OAVNJ,EAAI,EAAGA,EAAIV,EAAOe,OAAQL,UAAK,EAA/BA,GAcT,OAAOD,KArCgB,GA0CJ,sBAAG,UAAOS,GAE7B,IAAMC,EAAYC,KAAKC,MAAMH,GAE7B,UACuBI,iBAAOhC,qBAAWN,EAAI,4BAAS,CAClDiC,OAAQE,EAAUI,OAClBlB,KAAMc,EAAUd,KAChBmB,MAAOL,EAAUK,MACjBR,KAAMG,EAAUH,KAChBS,MAAON,EAAUM,MACjBC,QAASP,EAAUO,UAGL,QAAhBC,UAASC,GACLC,MAAM,4BACNC,UAAMD,MAAM,2BAAQ,4BACxB,MAAOE,GACPC,QAAQC,MAAM,uCAAUF,GACR,QAAhBJ,UAASC,GACLC,MAAM,4BACNC,UAAMD,MAAM,2BAAQ,gCAE3B,gBAvBoB,uCA0BRK,EAAS,sBAAG,UAAOhB,GAC9B,IAAM9B,EAAIC,gBAAMC,qBAAWN,EAAI,SAAUO,gBAAM,WAAY,KAAM2B,IAC7DrB,EAAO,UACiBJ,kBAAQL,IACtBM,SAAQ,SAACC,GAGrBE,EAAOF,EAAIE,UAIE,sBAAG,YAChB,IACE,IAAIsC,EAAUtC,EACRuC,EAAYhB,KAAKiB,UAAUF,SAC3BG,UAAaC,QAAQ,WAAYH,GACvC,MAAOL,GACPC,QAAQQ,IAAI,6BAAUT,OAEzB,kBARc,kCASfU,MACD,gBArBqB,sC,OCpFP,SAASC,EAAYxB,GAElC,MAA8ByB,mBAAS,IAAG,WAE1C,GAFc,KAAY,KAEAA,mBAAS,KAAG,WAA/BC,EAAK,KAAEC,EAAQ,KACtB,EAAgCF,mBAAS,IAAG,WAArCG,EAAQ,KAAEC,EAAW,KACtBC,EAAO/D,kBAAQT,GAEfyE,EAAaC,0BACnBC,qBAAU,WAMR,OALoBH,EAAKI,oBAAmB,SAAAC,GACtCA,GACFJ,EAAWK,QAAQ,iBAItB,IAoCH,OACE,cAACC,EAAA,QAAwB,CAACC,QAZZ,WACd,IAAIC,EAAQ,GAOZ,OANoB,QAAhB9B,UAASC,IAEc,YAAhBD,UAASC,MADlB6B,EAAQC,UAASC,SAKZF,EAI4BG,GAAU,SAC3C,eAACC,EAAA,QAAoB,CAACC,MAAOC,EAAOC,UAAWC,SAA0B,QAAhBtC,UAASC,GAAe,UAAY,SAAS,UACpG,cAACsC,EAAA,QAAI,CAACJ,MAAOC,EAAOI,SAEpB,cAACD,EAAA,QAAI,CAACJ,MAAOC,EAAOK,SAAS,SAC3B,eAACF,EAAA,QAAI,CAACJ,MAAO,CAAEO,MAAO,OAAQC,WAAY,SAAUC,aAAc,IAAK,UACrE,cAACC,EAAA,QAAI,CAACV,MAAOC,EAAOU,YAAY,mBAChC,eAACP,EAAA,QAAI,CAACJ,MAAOC,EAAOW,WAAW,UAC7B,cAACC,EAAA,QAAS,CACRb,MAAOC,EAAOa,YACdC,YAAY,2BACZC,qBAAsB,UACtBC,MAAOnC,EACPoC,aAAc,SAAAC,GAAI,OAAIpC,EAASoC,MAEjC,cAACN,EAAA,QAAS,CACRb,MAAOC,EAAOa,YACdC,YAAY,eACZC,qBAAsB,UACtBC,MAAOjC,EACPoC,iBAAe,EACfF,aAAc,SAAAC,GAAI,OAAIlC,EAAYkC,MAEpC,eAACT,EAAA,QAAI,CAACV,MAAOC,EAAOoB,QAAQ,kDAC1B,cAACX,EAAA,QAAI,CAACV,MAAO,CAAEvD,MAAO,UAAW6E,WAAY,QAC3C5B,QAAS,kBAAMP,EAAWoC,SAAS,eAAc,iDAM3D,cAACC,EAAA,QAAgB,CAACxB,MAAOC,EAAOwB,cAAe/B,QAAS,WAhE5DgC,qCAA2BxC,EAAMJ,EAAOE,GACrC2C,MAAK,SAAAC,GACJ,IAAMrC,EAAOqC,EAAgBrC,KAC7BnB,EAAUmB,EAAKT,UAIhB+C,OAAM,SAAC5D,GACFA,EAAI6D,QACU,QAAhBjE,UAASC,GACLC,MAAM,8CACNC,UAAMD,MAAM,2BAAQ,8CAM1BG,QAAQQ,IAAIT,EAAI6D,aA+C4D,SAC1E,cAACC,EAAA,QAAK,CAACC,OAAQC,EAAQ,KAA8BjC,MAAOC,EAAOiC,oBAQ7E,IAAMjC,EAASkC,UAAWC,OAAO,CAC/BlC,UAAW,CACTmC,KAAM,EACNC,gBAAiB,UACjB9B,WAAY,SACZ+B,eAAgB,SAChBC,OAAQ,GAEVnC,OAAQ,CACNiC,gBAAiB,UACjB/B,MAAO,OACP8B,KAAM,EACNI,uBAAwB,IAE1BnC,SAAU,CACR+B,KAAM,EACNC,gBAAiB,UACjB/B,MAAO,OACPC,WAAY,SACZ+B,eAAgB,UAElB5B,YAAa,CACXlE,MAAO,UACPiG,SAAU,GACVpB,WAAY,OACZqB,UAAW,aACXC,UAAW,CAAC,CAAEC,WAAY,MAE5BjC,WAAY,CACVL,MAAO,MACPC,WAAY,SACZsC,YAAa,IAEfhC,YAAa,CACXP,MAAO,MACPwC,OAAQ,GACRT,gBAAiB,UACjBU,aAAc,GACdC,YAAa,GACbC,UAAW,IAEbhB,WAAY,CACVa,OAAQ,MACRxC,MAAO,OAETkB,cAAe,CACbsB,OAAQ,GACRxC,MAAO,GACPyC,aAAc,GACdV,gBAAiB,UACjBC,eAAgB,SAChB/B,WAAY,SACZ2C,SAAU,WACVC,MAAO,GACPC,OAAQ,IAEVhC,QAAS,CACPqB,SAAU,GACVQ,UAAW,MCoBAI,EA1KM,SAAClG,GAEpB,MAAgCyB,mBAAS,IAAG,WAArC0E,EAAQ,KAAEC,EAAW,KAC5B,EAA4B3E,mBAAS,IAAG,WAAjC4E,EAAM,KAAEC,EAAS,KACxB,EAAkC7E,mBAAS,IAAG,WAAvC8E,EAAS,KAAEC,EAAY,KAC9B,EAA8B/E,mBAAS,IAAG,WAAnCgF,EAAO,KAAEC,EAAU,KAC1B,EAAsCjF,mBAAS,IAAG,WAA3CkF,EAAW,KAAEC,EAAc,KAClC,EAAwCnF,mBAAS,IAAG,WAA7CoF,EAAY,KAAEC,EAAe,KACpC,EAAoCrF,mBAAS,QAAO,WAA7CsF,EAAU,KAAEC,EAAa,KAChC,EAA4BvF,oBAAS,GAAK,WACpCK,GADO,KAAW,KACX/D,kBAAQT,IAqEf2J,EAAW,WACf,IAAMC,EAlBc,SAACrD,GAErB,IADgB,YACHsD,KAAKtD,GAEhB,OADAmD,EAAc,QACP,iDAIT,MADwB,QACHG,KAAKtD,IAI1BmD,EAAc,SACP,IAJLA,EAAc,QACP,oDAQQI,CAAcX,GAC3BS,GACFJ,EAAgBI,IAiBpB,OACE,cAAC7E,EAAA,QAAwB,CAACC,QAZZ,WACd,IAAIC,EAAQ,GAOZ,OANoB,QAAhB9B,UAASC,IAEc,YAAhBD,UAASC,MADlB6B,EAAQC,UAASC,SAKZF,EAI4BG,GAAU,SAC3C,cAACC,EAAA,QAAoB,CAACC,MAAO,CAAEqC,KAAM,GAAKlC,SAA0B,QAAhBtC,UAASC,GAAe,UAAY,SAAS,SAC/F,cAACsC,EAAA,QAAI,CAACJ,MAAOC,EAAOC,UAAU,SAC5B,eAACE,EAAA,QAAI,CAACJ,MAAOC,EAAOwE,QAAQ,UAC1B,eAACrE,EAAA,QAAI,CAACJ,MAAOC,EAAOyE,WAAW,UAC7B,cAAChE,EAAA,QAAI,CAACV,MAAOC,EAAO0E,YAAY,0BAChC,cAAC9D,EAAA,QAAS,CACRb,MAAOC,EAAO2E,WACd7D,YAAY,qBACZC,qBAAsB,UACtBC,MAAOsC,EACPrC,aAAc,SAACC,GAAI,OAAKqC,EAAYrC,SAExC,eAACf,EAAA,QAAI,CAACJ,MAAOC,EAAOyE,WAAW,UAC7B,cAAChE,EAAA,QAAI,CAACV,MAAOC,EAAO0E,YAAY,0BAChC,cAAC9D,EAAA,QAAS,CACRb,MAAOC,EAAO2E,WACd7D,YAAY,SACZC,qBAAsB,UACtBC,MAAOwC,EACPvC,aAAc,SAACC,GAAI,OAAKuC,EAAUvC,SAEtC,eAACf,EAAA,QAAI,CAACJ,MAAOC,EAAOyE,WAAW,UAC7B,cAAChE,EAAA,QAAI,CAACV,MAAOC,EAAO0E,YAAY,sCAChC,cAAC9D,EAAA,QAAS,CACRb,MAAOC,EAAO2E,WACd7D,YAAY,kBACZC,qBAAsB,UACtBC,MAAO0C,EACPzC,aAAc,SAACC,GAAI,OAAKyC,EAAazC,SAEzC,eAACf,EAAA,QAAI,CAACJ,MAAOC,EAAOyE,WAAW,UAC7B,cAAChE,EAAA,QAAI,CAACV,MAAOC,EAAO0E,YAAY,0BAChC,cAAC9D,EAAA,QAAS,CACRb,MAAOC,EAAO2E,WACd7D,YAAY,mBACZC,qBAAsB,UACtBC,MAAO4C,EACPzC,iBAAe,EACfyD,QAAS,kBAAMX,EAAgB,KAC/BhD,aAAc,SAACC,GAAI,OAAK2C,EAAW3C,MACrC,cAACT,EAAA,QAAI,CAACV,MAAO,CAACC,EAAO6E,kBAAmB,CAAEC,QAASZ,IAAc,SAAEF,OAErE,eAAC7D,EAAA,QAAI,CAACJ,MAAOC,EAAOyE,WAAW,UAC7B,cAAChE,EAAA,QAAI,CAACV,MAAOC,EAAO0E,YAAY,sCAChC,cAAC9D,EAAA,QAAS,CACRb,MAAOC,EAAO2E,WACd7D,YAAY,mBACZC,qBAAsB,UACtBC,MAAO8C,EACP3C,iBAAe,EACfyD,QAAS,kBAAMR,KACfnD,aAAc,SAACC,GAAI,OAAK6C,EAAe7C,SAG3C,eAACf,EAAA,QAAI,CAACJ,MAAO,CAAE+C,OAAQ,MAAOiC,cAAe,MAAO9B,UAAW,GAAI3C,MAAO,QAAS,UACjF,cAACiB,EAAA,QAAgB,CAACxB,MAAOC,EAAOgF,SAAUvF,QAAS,kBAAMtC,EAAM+B,WAAW+F,OAAM,SAC9E,cAACxE,EAAA,QAAI,CAACV,MAAOC,EAAOkF,SAAS,4BAE/B,cAAC3D,EAAA,QAAgB,CAACxB,MAAOC,EAAOmF,QAAS1F,QAAS,WAjJxDqE,IAAgBF,EAClBwB,yCAA+BnG,EAAMyE,EAAWE,GAC7ClC,KAAK,WAAD,WAAC,UAAMC,GACV,IAAMrC,EAAOqC,EAAgBrC,MAGd,sBAAG,YAChB,IACE,IAAIlB,EAAU,CAAEV,MAAO8F,EAAQ7F,QAAS2F,EAAU+B,SAAU3B,GACtDrF,EAAYhB,KAAKiB,UAAUF,SAC3BG,UAAaC,QAAQ,WAAYH,GACvC,MAAOL,GACPC,QAAQQ,IAAI,6BAAUT,OAEzB,kBARc,mCASfU,SAGM4G,iBAAO1J,cAAIX,EAAI,QAASqE,EAAKiG,KAAM,CACvC5H,QAAS2F,EACT5F,MAAO8F,EACP6B,SAAU3B,IAEI,QAAhB9F,UAASC,GACLC,MAAM,4BACNC,UAAMD,MAAM,2BAAQ,+BACzB,mDAxBK,IAyBL8D,OAAM,SAAC5D,GACFA,EAAI6D,QACU,QAAhBjE,UAASC,GACLC,MAAM,8CACNC,UAAMD,MAAM,2BAAQ,8CAM1BG,QAAQQ,IAAIT,EAAI6D,YAGJ,QAAhBjE,UAASC,GACLC,MAAM,kCACNC,UAAMD,MAAM,2BAAQ,mCAuGuD,SACrE,cAAC2C,EAAA,QAAI,CAACV,MAAOC,EAAOkF,SAAS,yCAYvClF,EAASkC,UAAWC,OAAO,CAC/BlC,UAAW,CACTmC,KAAM,EACN7B,WAAY,SACZ+B,eAAgB,UAElBkC,QAAS,CACPlE,MAAO,MACPkF,UAAW,MACXnD,gBAAiB,UACjBU,aAAc,GACdxC,WAAY,SACZkF,WAAY,GACZC,cAAe,GACfC,kBAAmB,IAErBlB,WAAY,CACVnE,MAAO,OACPC,WAAY,aACZC,aAAc,IAEhBkE,YAAa,CACXlI,MAAO,UACP6E,WAAY,OACZoB,SAAU,GACVjC,aAAc,GAEhBmE,WAAY,CACVrE,MAAO,OACPwC,OAAQ,GACRT,gBAAiB,UACjBU,aAAc,GACdC,YAAa,IAEf6B,kBAAmB,CACjBrI,MAAO,UACPiG,SAAU,GACVpB,WAAY,OACZ4B,UAAW,GAEb+B,SAAU,CACR5C,KAAM,EACNE,eAAgB,SAChB/B,WAAY,SACZ8B,gBAAiB,UACjBU,aAAc,GACdF,YAAa,IAEfsC,QAAS,CACP/C,KAAM,EACNE,eAAgB,SAChB/B,WAAY,SACZ8B,gBAAiB,UACjBU,aAAc,GACd6C,WAAY,IAEdV,SAAU,CACRzC,SAAU,GACVpB,WAAY,OACZ7E,MAAO,a,gBC7OI0F,YAAWC,OAAO,CAC7B0D,UAAW,CACPvF,MAAO,IACPwC,OAAQ,IACRC,aAAc,GACdV,gBAAiB,UACjB9B,WAAY,SACZwE,cAAe,MACf9B,UAAW,IAEf6C,kBAAmB,CACfxF,MAAO,IACPwC,OAAQ,GACRT,gBAAiB,UACjBU,aAAc,GACdgC,cAAe,MACfxE,WAAY,UAEhBwF,UAAW,CACPzF,MAAO,IACPwC,OAAQ,IACRC,aAAc,GACdV,gBAAiB,UACjB2D,YAAa,sBACbC,aAAc,CACV3F,MAAO,EACPwC,OAAQ,GAEZoD,aAAc,EACdC,cAAe,EACf5F,WAAY,YC9BL2B,YAAWC,OAAO,CAC/BiE,WAAY,CACV5J,MAAO,UACPiG,SAAU,GACVpB,WAAY,OACZ4B,UAAW,IAEboD,UAAW,CACT7J,MAAO,WAET8J,UAAW,CACT9J,MAAO,UACPiG,SAAU,GACVpB,WAAY,OACZwB,YAAa,IAEf0D,SAAU,CACR/J,MAAO,UACPiG,SAAU,GACVpB,WAAY,QAEdmF,UAAW,CACThK,MAAO,UACPiG,SAAU,GACVpB,WAAY,MACZb,aAAc,GAEhBiG,QAAS,CACPjK,MAAO,UACPiG,SAAU,GACVpB,WAAY,MACZ6B,SAAU,WACVC,MAAO,GACPuD,IAAK,IAEPC,aAAc,CACZnK,MAAO,UACPiG,SAAU,GACVpB,WAAY,QAEduF,YAAa,CACXpK,MAAO,UACPiG,SAAU,GACVpB,WAAY,QAEdwF,YAAa,CACXrK,MAAO,UACPiG,SAAU,GACVpB,WAAY,MACZe,KAAM,EACN0E,UAAW,UAEbC,YAAa,CACXvK,MAAO,UACPiG,SAAU,GACVpB,WAAY,MACZe,KAAM,EACN0E,UAAW,UAEbE,YAAa,CACX3E,gBAAiB,UACjBK,UAAW,SACXpC,MAAO,EACPwC,OAAQ,OAEVmE,kBAAmB,CACjBzK,MAAO,UACPiG,SAAU,GACVpB,WAAY,OACZb,aAAc,GAGhB0G,iBAAkB,CAChB1K,MAAO,UACPiG,SAAU,IAEZ0E,SAAU,CACR3K,MAAO,UACPiG,SAAU,GACVpB,WAAY,UC5EH+F,EAAW,SAAAjK,GAAK,OACzB,cAACoE,EAAA,QAAgB,CAAC9B,QAAStC,EAAMkK,YAAY,SACzC,eAAClH,EAAA,QAAI,CAACJ,MAAO,CAACuH,EAAUzB,UAAW,CAAExD,gBAAiBlF,EAAMoK,aAAc,UACtE,cAACzF,EAAA,QAAK,CAACC,OAAQ5E,EAAMqK,QAASzH,MAAO,CAAEO,MAAO,GAAIwC,OAAQ,GAAI2E,OAAQ,MACtE,eAACtH,EAAA,QAAI,WACD,eAACA,EAAA,QAAI,CAACJ,MAAO,CAAEgF,cAAe,MAAOxE,WAAY,YAAa,UAC1D,cAACE,EAAA,QAAI,CAACV,MAAO2H,EAAUpB,UAAU,SAAEnJ,EAAMwK,WACzC,cAAClH,EAAA,QAAI,CAACV,MAAO2H,EAAUnB,SAAS,qCAEpC,eAACpG,EAAA,QAAI,CAACJ,MAAO,CAAEkD,UAAW,GAAI,UAC1B,cAACxC,EAAA,QAAI,CAACV,MAAO2H,EAAUlB,UAAU,wDACjC,cAAC/F,EAAA,QAAI,CAACV,MAAO,CAAC2H,EAAUlB,UAAW,CAAE7D,UAAW,CAAC,CAAEC,WAAY,OAAS,SAAEzF,EAAMyK,iBAGxF,cAACnH,EAAA,QAAI,CAACV,MAAO2H,EAAUjB,QAAQ,SAAEtJ,EAAMD,eAKtC2K,EAAa,SAAA1K,GAAK,OAC3B,eAACgD,EAAA,QAAI,CAACJ,MAAO,CAACkD,UAAU,IAAI,UACxB,cAAC9C,EAAA,QAAI,CAACJ,MAAO,CAACS,aAAa,GAAG,SAC1B,cAACC,EAAA,QAAI,CAACV,MAAO2H,EAAUd,YAAY,SAAEzJ,EAAMF,SAE/C,eAACkD,EAAA,QAAI,CAACJ,MAAO5C,EAAM2K,UAAU,UACrB,cAACrH,EAAA,QAAI,CAACV,MAAO2H,EAAUb,YAAY,SAAE1J,EAAM4K,OAC3C,cAAC5H,EAAA,QAAI,CAACJ,MAAO2H,EAAUV,cACvB,eAACvG,EAAA,QAAI,CAACV,MAAO2H,EAAUX,YAAY,UAAE5J,EAAM6K,KAAI,IAAG7K,EAAM8K,YACxD,cAAC9H,EAAA,QAAI,CAACJ,MAAO2H,EAAUV,cACvB,cAACvG,EAAA,QAAI,CAACV,MAAO2H,EAAUX,YAAY,SAAE5J,EAAMb,cChC9C4L,EAAW,SAAC/K,GAEvB,IAAIF,EAAOE,EAAMgL,OAAO,EAAG,IACvBC,EAAQjL,EAAMkL,MAAM,GAAI,IACxBC,EAAUnL,EAAMkL,MAAM,GAAI,IAO9B,OADcpL,EAAO,KALVmL,GAAS,GAAK,eAAO,iBAGhCA,GADAA,GADAA,GAAgB,KACQ,IACVG,WAAWC,SAAS,EAAG,MAEK,KAD1CF,EAAUA,EAAQC,WAAWC,SAAS,EAAG,OAM9BC,EAAW,SAACtL,GAEZA,EAAMgL,OAAO,EAAG,IAA3B,IACIC,EAAQjL,EAAMkL,MAAM,GAAI,IACxBC,EAAUnL,EAAMkL,MAAM,GAAI,IAO9B,OANWD,GAAS,GAAK,eAAO,gBAKX,KAFrBA,GADAA,GADAA,GAAgB,KACQ,IACVG,WAAWC,SAAS,EAAG,MAEF,KADnCF,EAAUA,EAAQC,WAAWC,SAAS,EAAG,OAM9BE,EAAU,SAACvL,GACtB,IAAIwL,EAAW,IAAIC,KAKfC,EAHOF,EAASG,cAGD,KAFNH,EAASI,WAAa,GAAGR,WAAWC,SAAS,EAAG,KAE5B,IADvBG,EAASK,UAAUT,WAAWC,SAAS,EAAG,KAGhDJ,EAAQO,EAASM,WACjBX,EAAUK,EAASO,aAIvB,OADcL,EAAQ,KAFtBT,EAAQA,EAAMG,WAAWC,SAAS,EAAG,MAED,KADpCF,EAAUA,EAAQC,WAAWC,SAAS,EAAG,OC4I5BW,EAvKI,SAAChM,GAClB,IAAM8B,EAAO/D,kBAAQT,GACfyE,EAAaC,0BACnB,EAA8BP,mBAAS,IAAG,WAAnCwK,EAAO,KAAEC,EAAU,KAC1B,EAAgCzK,mBAAS,4BAAO,WAChD,GADe,KAAa,KACAA,mBAAS,KAAG,WAAjC0K,EAAM,KACPC,GADkB,KACVC,sBAGdpK,qBAAU,WACR,IAAM/D,EAAIC,gBAAMC,qBAAWN,EAAI,4BAASO,gBAAM,OAAQ,KAAM8N,IAqC5D,OApCoBG,qBAAWpO,EAAE,WAAD,WAAE,UAAOqO,GACvC,IAAMjO,EAAO,GACbiO,EAAc/N,SAAQ,SAACC,GAErB,IAAIC,EAAMD,EAAIE,OACdD,EAAQ,GAAID,EAAIG,GAChBN,EAAKO,KAAKH,MAcZ,IAVA,IAAMI,EAASC,OAAOC,QAAQV,EAAKW,QAAO,SAACC,EAAI,GAAe,IAAZC,EAAI,EAAJA,KAGhD,OAFAD,EAAIC,GAASD,EAAIC,IAAS,GAC1BD,EAAIC,GAAMN,KAAK,CAAEM,SACVD,IACN,KAAKE,KAAI,YAAK,MAAO,CAAED,KAAd,SAAK,OAGXE,EAAQ,CAAC,UAAW,UAAW,UAAW,WAC1CC,EAAS,CAAC,UAAW,UAAW,UAAW,WAC7CC,EAAQ,GAAE,YACLC,GACP,IAAMtB,EAAIC,gBAAMC,qBAAWN,EAAI,4BAASO,gBAAM,OAAQ,KAAMS,EAAOU,GAAGL,MAAOM,kBAAQ,OAAQ,QAASC,gBAAM,WAChFnB,kBAAQL,IACtBM,SAAQ,SAACC,GACrB,IAAIkB,EAAMlB,EAAIE,OACViB,EAAWd,EAAOU,GACtBI,EAAgB,MAAIP,EAAMG,EAAIH,EAAMQ,QACpCD,EAAiB,OAAIN,EAAOE,EAAIH,EAAMQ,QACtCD,EAAe,KAAID,EAAIG,KACvBF,EAAiB,OAAID,EAAII,OACzBR,EAAMV,KAAKe,OAVNJ,EAAI,EAAGA,EAAIV,EAAOe,OAAQL,UAAK,EAA/BA,GAaT0M,EAAW3M,MAEV,OAAF,4CAnCgC,MAqChC,IAGH,IAWMiN,EAAY,sBAAG,YAEnB,IAAMtO,EAAIC,gBAAMC,qBAAWN,EAAI,4BAASO,gBAAM,OAAQ,KAAM,KACxDC,EAAO,UACiBC,kBAAQL,IACtBM,SAAQ,SAACC,GAErB,IAAIC,EAAMD,EAAIE,OACdD,EAAQ,GAAID,EAAIG,GAChBN,EAAKO,KAAKH,MAcZ,IAVA,IAAII,EAASC,OAAOC,QAAQV,EAAKW,QAAO,SAACC,EAAI,GAAe,IAAZC,EAAI,EAAJA,KAG9C,OAFAD,EAAIC,GAASD,EAAIC,IAAS,GAC1BD,EAAIC,GAAMN,KAAK,CAAEM,SACVD,IACN,KAAKE,KAAI,YAAK,MAAO,CAAED,KAAd,SAAK,OAGXE,EAAQ,CAAC,UAAW,UAAW,UAAW,WAC1CC,EAAS,CAAC,UAAW,UAAW,UAAW,WAC7CC,EAAQ,GAAE,YACLC,GACP,IAAMtB,EAAIC,gBAAMC,qBAAWN,EAAI,4BAASO,gBAAM,OAAQ,KAAMS,EAAOU,GAAGL,MAAOM,kBAAQ,OAAQ,QAASC,gBAAM,WAChFnB,kBAAQL,IACtBM,SAAQ,SAACC,GACrB,IAAIkB,EAAMlB,EAAIE,OACViB,EAAWd,EAAOU,GACtBI,EAAgB,MAAIP,EAAMG,EAAIH,EAAMQ,QACpCD,EAAiB,OAAIN,EAAOE,EAAIH,EAAMQ,QACtCD,EAAe,KAAID,EAAIG,KACvBF,EAAiB,OAAID,EAAII,OACzBR,EAAMV,KAAKe,OAVNJ,EAAI,EAAGA,EAAIV,EAAOe,OAAQL,UAAK,EAA/BA,GAaT0M,EAAW3M,GAGX,IAAIkN,EAAaL,EAAMM,KAAK,wBAAU,CAAEC,SAAU,MAClDP,EAAMQ,OAAOH,EAAY,oBAAqB,CAAEI,KAAM,eACvD,kBAzCiB,mCAuDZC,EAAa,SAACC,GAClB,OACE,cAAC3I,EAAA,QAAgB,UACf,cAACpB,EAAA,QAAI,UACH,cAAC,EAAQ,CACPqH,QAASxF,EAAQ,KACjB9E,OAAQgN,EAAMhN,OACdyK,SAAUuC,EAAM5N,KAChBiL,WAAY2C,EAAM1N,MAClBoL,SAAUM,EAASgC,EAAMjN,MACzBoK,YAAa,kBApBE,SAAC6C,GACxB/M,EAAM+B,WAAWlD,KAAK,iBAAkB,CAAEoB,UAAW8M,IAmB1BC,CAAiBD,WAO9C,OACE,cAAC,gBAAa,UACZ,eAAC/J,EAAA,QAAI,CAACJ,MAAOC,EAAOC,UAAU,UAC5B,eAACE,EAAA,QAAI,CAACJ,MAAO,CAAEqC,KAAM,EAAG9B,MAAO,OAAQC,WAAY,UAAW,UAC5D,cAACE,EAAA,QAAI,CAACV,MAAO2H,EAAUtB,WAAW,sCAElC,cAACjG,EAAA,QAAI,CAACJ,MAAO,CAAEQ,WAAY,WAAYD,MAAO,OAAQ,SACpD,cAAC8J,EAAA,QAAQ,CAAC9N,KAAM,SAAU+N,KAAM,GAAI7N,MAAO,UAAWiD,QAAS,WAzFvE6K,kBAAQrL,GACLyC,MAAK,WACJxC,EAAWK,QAAQ,gBAEpBqC,OAAM,SAAA5D,GAAG,OAAIF,MAAME,EAAI6D,oBAwFtB,eAAC1B,EAAA,QAAI,CAACJ,MAAOC,EAAOuK,SAAS,UAE3B,cAACC,EAAA,QAAQ,CACP1O,KAAMsN,EACNqB,WAAY,SAAAP,GAAK,OAAID,EAAWC,EAAMlC,OACtC0C,aAAc,SAAAR,GAAK,OAAIA,EAAM5N,MAC7BqO,YAAY,EACZC,UAAW,kBAAMjB,OAEnB,cAACxJ,EAAA,QAAI,CAACJ,MAAOC,EAAO6K,WAAW,SAC7B,cAAC1K,EAAA,QAAI,CAACJ,MAAO,CAAEmD,SAAU,WAAYwD,KAAM,IAAK,SAC9C,cAACnF,EAAA,QAAgB,CAAC9B,QAAS,kBA3CtBqL,EA2CoC1B,OA1CnDjM,EAAM+B,WAAWlD,KAAK,mBAAoB,CAAEoB,UAAW0N,IADzC,IAACA,GA2C6C,SAChD,cAACV,EAAA,QAAQ,CAAC9N,KAAM,aAAc+N,KAAM,GAAI7N,MAAO,2BAazDwD,EAASkC,UAAWC,OAAO,CAC/BlC,UAAW,CACTmC,KAAM,EACNC,gBAAiB,UACjB9B,WAAY,UAEdgK,SAAU,CACRjK,MAAO,MACPwC,OAAQ,MACRT,gBAAiB,UAGjBU,aAAc,GACdxC,WAAY,SACZ+B,eAAgB,UAGlBuI,WAAY,CAEVvK,MAAO,OACPC,WAAY,SACZwK,oBAAqB,GACrBC,qBAAsB,GACtBlI,OAAQ,M,QCpMG,SAASmI,EAAiB9N,GAGvC,IAAMC,EAAYD,EAAM+N,MAAMC,OAAO/N,WAAa,aAElD,EAAgCwB,mBAAS,IAAG,WAC5C,GADe,KAAa,KACQA,mBAAS,KAAG,WAAzCwM,EAAU,KAAEC,EAAa,KAGhCjM,qBAAU,WACR,IAAM/D,EAAIC,gBAAMC,qBAAWN,EAAI,4BAASO,gBAAM,OAAQ,KAAM4B,EAAUd,MAAOM,kBAAQ,OAAQ,SAU7F,OAToB6M,qBAAWpO,GAAG,SAACqO,GACjC,IAAMjO,EAAO,GACbiO,EAAc/N,SAAQ,SAACC,GACrB,IAAIC,EAAMD,EAAIE,OACdD,EAAQ,GAAID,EAAIG,GAChBN,EAAKO,KAAKH,MAEZwP,EAAc5P,QAGf,IAeH,IADA,IAAI6P,EAAQ,GACH3O,EAAI,EAAGA,EAAIyO,EAAWpO,OAAQL,IAAK,CAC1C,IAAI4O,EAAQH,EAAWzO,GAEnB6O,GADWJ,EAAWzO,GAAGM,KAAKkL,OAAO,EAAG,QAC/B,GAEXqD,EADE7O,EAAI,IAAM,EACAS,EAAUX,OAEV,UAGd6O,EAAMtP,KACJ,cAAC,EAAU,CACT8L,UAAW,CAACR,EAAUxB,kBAAmB,CAAEzD,gBAAiBmJ,IAC5DvO,KAAMsO,EAAMtO,KAAKoL,MAAM,EAAG,IAC1BoD,KAAG,EACH1D,KAAMU,EAAS8C,EAAMtO,MACrB+K,KAAM,eACNC,SAAUsD,EAAM9N,MAAM,KACtBnB,KAAMiP,EAAM5N,SAPGhB,IAYrB,OACE,eAACwD,EAAA,QAAI,CAACJ,MAAOC,EAAOC,UAAU,UAC5B,cAACE,EAAA,QAAI,CAACJ,MAAO,CAAEQ,WAAY,aAAcD,MAAO,OAAQsF,WAAY,GAAIpF,aAAc,GAAI,SACxF,cAAC4J,EAAA,QAAQ,CAAC9N,KAAM,eAAgB+N,KAAM,GAAI7N,MAAO,UAAWiD,QAAS,kBAAMtC,EAAM+B,WAAW+F,WAE9F,cAAC9E,EAAA,QAAI,CAACJ,MAAOC,EAAOwE,QAAQ,SAC1B,eAACrE,EAAA,QAAI,CAACJ,MAAO,CAACC,EAAO0L,UAAW,CAAErJ,gBAAiBjF,EAAUZ,QAAS,UACpE,cAAC2D,EAAA,QAAI,CAACJ,MAAO,CAAEkD,UAAW,IAAK,SAC7B,cAACxC,EAAA,QAAI,CAACV,MAAO2H,EAAUf,aAAa,SAAEvJ,EAAUd,SAElD,cAAC6D,EAAA,QAAI,CAACJ,MAAO,CAAE+C,OAAQ,QAAS,SAC9B,cAAC6I,EAAA,QAAU,UACT,cAACxL,EAAA,QAAI,CAACJ,MAAO,CAAEQ,WAAY,UAAW,SACnC+K,gBAUjB,IAAMtL,EAASkC,UAAWC,OAAO,CAC/BlC,UAAW,CACTmC,KAAM,EACN7B,WAAY,SACZ+B,eAAgB,YAElBkC,QAAS,CACPlE,MAAO,MACPwC,OAAQ,MACRT,gBAAiB,UACjB0I,oBAAqB,GACrBC,qBAAsB,GACtB/H,UAAW,IAEbyI,UAAW,CACTpL,MAAO,OACP8B,KAAM,EACNC,gBAAiB,UACjB0I,oBAAqB,GACrBC,qBAAsB,GACtB/H,UAAW,GACX1C,WAAY,Y,kBC3CDqL,GAxDW,SAACzO,GAEzB,MAA0ByB,mBAAS,MAAK,WAAjCoC,EAAK,KAAE6K,EAAQ,KACtB,EAAwBjN,mBAAS,MAAK,WAA/BtC,EAAI,KAAEwP,EAAO,KACpB,EAA8BlN,oBAAS,GAAM,WAAtCmN,EAAO,KAAEC,EAAU,KACpB9M,EAAaC,0BAoBnB,OANAC,qBAAU,WACRF,EAAWoC,SAAS,mBAAoB,CAAE9D,OAAQwD,EAAO1E,KAAMA,MAE9D,CAAC0E,IAIF,eAACb,EAAA,QAAI,CAACJ,MAAOC,GAAOC,UAAU,UAjB1Be,GAAS+K,EAET,cAACtL,EAAA,QAAI,CAACV,MAAO,CAACC,GAAOiM,MAAOF,GAAW,CAAEvP,MAAO,YAAa,kDAK1D,KAYL,cAAC,WAAQ,CACPuD,MAAO,CAACC,GAAOkM,SAAUH,GAAW,CAAEI,YAAa,YACnDC,eAAgB,CAAE/J,gBAAiB,WACnCgK,iBAAkBrM,GAAOqM,iBACzBC,kBAAmBtM,GAAOsM,kBAC1BC,mBAAoB,CAACvM,GAAOuM,mBAAoBR,GAAW,CAAEI,YAAa,YAC1EK,cAAexM,GAAOwM,cACtBC,iBAAkBzM,GAAOyM,iBACzB3Q,KAAMqB,EAAMrB,KACZwN,QAAM,EACN9D,UAAW,IACXkH,WAAW,QACXC,WAAW,QACX7L,YAAciL,EAAmB,MAAT,2BACxBa,kBAAkB,kBAClB5L,MAAOA,EACP4D,QAAS,kBAAMoH,GAAW,IAC1Ba,OAAQ,kBAAMb,GAAW,IACzBc,SAAU,SAAA9E,GACR6D,EAAS7D,EAAKhH,OACd8K,EAAQ9D,EAAK1L,MACb0P,GAAW,UASfhM,GAASkC,UAAWC,OAAO,CAC/BlC,UAAW,CACToC,gBAAiB,UAEjBoD,WAAY,IAEdyG,SAAU,CACRpJ,OAAQ,GACRqJ,YAAa,UACbY,YAAa,GACbhK,aAAc,EACd4C,kBAAmB,GAErBqH,KAAM,CACJnK,YAAa,GAEfoJ,MAAO,CACL/I,SAAU,WACVb,gBAAiB,UACjB4K,KAAM,GACNvG,IAAK,EACLnE,OAAQ,IACRoD,kBAAmB,EACnBlD,SAAU,GACVpB,WAAY,OACZ7E,MAAO,WAET6P,iBAAkB,CAChB5J,SAAU,GACVjG,MAAO,UACPsK,UAAW,UAEbwF,kBAAmB,CACjB7J,SAAU,GACVjG,MAAO,UACPsK,UAAW,UAEb2F,iBAAkB,CAChB3J,OAAQ,GACRL,SAAU,GACVJ,gBAAiB,UACjB7F,MAAO,WAETgQ,cAAe,CACbhQ,MAAO,UACPsK,UAAW,UAEbyF,mBAAoB,CAClBlK,gBAAiB,UACjBU,aAAc,MCuDHmK,GAvKM,SAAC/P,GAEpB,IAAMC,EAAYD,EAAM+N,MAAMC,OAAO/N,WAAa,aAE5C+P,EAAahQ,EAAM+N,MAAMC,OAAO3N,QAAU,aAC1C4P,EAAWjQ,EAAM+N,MAAMC,OAAO7O,MAAQ,aAI5C,GAFgBa,EAAM+N,MAAMC,OAAOkC,QAEXzO,mBAAS,IAAIgK,OAAO,WAArC3L,EAAI,KAAEqQ,EAAO,KACpB,EAAwB1O,mBAAS,QAAO,WAAjC2O,EAAI,KAAEC,EAAO,KACpB,EAAwB5O,oBAAS,GAAM,WAAhCiL,EAAI,KAAE4D,EAAO,KACpB,EAA8B7O,mBAAS8O,KAAe,WAA/ChF,EAAO,KAAEiF,EAAU,KAC1B,EAA0B/O,mBAAS,IAAG,WAA/BnB,EAAK,KAAEmQ,EAAQ,KAEtB,EAAgChP,mBAAS,IAAG,WAArCiP,EAAQ,KAAEC,EAAW,KAC5B,EAAgClP,mBAAS,IAAG,WAArCmP,EAAQ,KAAEC,EAAW,KAE5B5O,qBAAU,WAER,IADA,IAAI6O,EAAU,GACLtR,EAAI,EAAGA,EAAIS,EAAUJ,OAAQL,IAAK,CACzC,IAAId,EAAM,GACVA,EAAW,MAAIuB,EAAUT,GAAGL,KAAO,IAAMc,EAAUT,GAAGO,OAAS,IAC/DrB,EAAW,MAAIuB,EAAUT,GAAGO,OAC5BrB,EAAU,KAAIuB,EAAUT,GAAGL,KAC3B2R,EAAQjS,KAAKH,GAEfiS,EAAYG,GACC,sBAAG,YACd,IACE,IAAM5P,QAAkBE,UAAa2P,QAAQ,YAE7C,OADAF,EAAY3Q,KAAKC,MAAMe,IACH,MAAbA,EAAoBhB,KAAKC,MAAMe,GAAa,KACnD,MAAO8P,QAGV,kBARY,kCASbC,KAEC,IAGH,IAQMC,EAAW,SAACC,GAChBb,GAAQ,GACRD,EAAQc,IAsCV,OACE,cAAC9O,EAAA,QAAwB,CAACC,QAZZ,WACd,IAAIC,EAAQ,GAOZ,OANoB,QAAhB9B,UAASC,IAEc,YAAhBD,UAASC,MADlB6B,EAAQC,UAASC,SAKZF,EAI4BG,GAAU,SAC3C,eAACM,EAAA,QAAI,CAACJ,MAAOC,GAAOC,UAAU,UAC5B,cAACE,EAAA,QAAI,CAACJ,MAAO,CAAEQ,WAAY,aAAcD,MAAO,OAAQsF,WAAY,GAAIpF,aAAc,GAAI,SACxF,cAAC4J,EAAA,QAAQ,CAAC9N,KAAM,eAAgB+N,KAAM,GAAI7N,MAAO,UAAWiD,QAAS,kBAAMtC,EAAM+B,WAAW+F,WAE9F,eAAC9E,EAAA,QAAI,CAACJ,MAAOC,GAAOwE,QAAQ,UAC1B,cAACrE,EAAA,QAAI,CAACJ,MAAOC,GAAOuO,UAAU,SAC5B,eAACpO,EAAA,QAAI,CAACJ,MAAO,CAAEO,MAAO,MAAOgC,eAAgB,SAAU/B,WAAY,UAAW,UAE5E,cAACE,EAAA,QAAI,CAACV,MAAOC,GAAOwO,WAAY/O,QAAS,WAAQxB,QAAQQ,IAAI,SAAU,sCACvE,cAAC0B,EAAA,QAAI,CAACJ,MAAO,CAAE0O,eAAgB,IAAK,SAClC,cAAChO,EAAA,QAAI,CAACV,MAAO2H,EAAUf,aAAa,wCAItC,cAACxG,EAAA,QAAI,CAACJ,MAAO,CAACC,GAAO0O,IAAK,CAAEC,gBAAiB,KAAM,SACjD,cAACxO,EAAA,QAAI,CAACJ,MAAO,CAAEO,MAAO,MAAOE,aAAc,IAAK,SAC9C,cAAC,GAAW,CAAC1E,KAAM+R,QAKvB,eAAC1N,EAAA,QAAI,CAACJ,MAAOC,GAAO0O,IAAI,UACtB,cAACjO,EAAA,QAAI,CAACV,MAAO,CAAC2H,EAAUP,SAAU,CAAE3G,aAAc,KAAM,8BACxD,cAACI,EAAA,QAAS,CAACb,MAAOC,GAAO4O,MACvB9N,YAAa,6CACbC,qBAAsB,UACtB8N,UAAW,EACX7N,MAAOvD,EACPqR,aAAc,aACd7N,aAAc,SAACC,GAAI,OAAK0M,EAAS1M,SAKrC,eAACf,EAAA,QAAI,CAACJ,MAAOC,GAAO0O,IAAI,UACtB,cAACjO,EAAA,QAAI,CAACV,MAAO,CAAC2H,EAAUP,SAAU,CAAE3G,aAAc,IAAK,sCACvD,eAACL,EAAA,QAAI,CAACJ,MAAO,CAAEgF,cAAe,MAAOxE,WAAY,UAAW,UAC1D,cAACE,EAAA,QAAI,CAACV,MAAO,CAAC2H,EAAUP,SAAU,CAAEtE,YAAa,KAAM,SAAE6K,EAAchF,KACvE,cAAC0B,EAAA,QAAQ,CAAC9N,KAAM,iBAAkB+N,KAAM,GAAI7N,MAAO,UAAWiD,QAAS,kBAAMkO,EAAWD,WAEzF7D,GACC,cAAC,UAAc,CACbkF,OAAO,iBACP/N,MAAO/D,EACPsQ,KAAMA,EACNyB,UAAU,EACVlK,QAAQ,UACRgI,SAjGD,SAACmC,EAAOC,GACvB,IAAMC,EAAcD,GAAgBjS,EACpCwQ,GAAQ,GACRH,EAAQ6B,GACR,IAAIpH,EJNuB,SAAC5K,GAC9B,IAGIiS,EAHOjS,EAAM2L,cAGE,KAFN3L,EAAM4L,WAAa,GAAGR,WAAWC,SAAS,EAAG,KAEzB,IADtBrL,EAAM6L,UAAUT,WAAWC,SAAS,EAAG,KAE9CJ,EAAQjL,EAAM8L,WACdX,EAAUnL,EAAM+L,aAIpB,OAAOkG,EAAQ,MAHfhH,EAAQA,EAAMG,WAAWC,SAAS,EAAG,MAEjB,KADpBF,EAAUA,EAAQC,WAAWC,SAAS,EAAG,OIF5BkF,CAAqB,IAAI9E,KAAKsG,IACzCvB,EAAW5F,MA8FC,cAAC5H,EAAA,QAAI,CAACJ,MAAO,CAAEO,MAAO,OAAQ,SAC5B,cAACiB,EAAA,QAAgB,CAACxB,MAAOC,GAAOqP,OAAQ5P,QAAS,kBAAM4O,EAAS,SAAQ,SACtE,cAAC5N,EAAA,QAAI,CAACV,MAAOC,GAAOkF,SAAS,0CAGjC,cAAC/E,EAAA,QAAI,CAACJ,MAAO,CAAEO,MAAO,OAAQ,SAC5B,cAACiB,EAAA,QAAgB,CAACxB,MAAOC,GAAOqP,OAAQ5P,QAAS,kBAAM4O,EAAS,SAAQ,SACtE,cAAC5N,EAAA,QAAI,CAACV,MAAOC,GAAOkF,SAAS,kDAQvC,cAAC/E,EAAA,QAAI,CAACJ,MAAOC,GAAOsP,SAAS,SAC3B,cAAC/N,EAAA,QAAgB,CAACxB,MAAOC,GAAOuP,SAAU9P,QAAS,kBAlG5C,WACf,IAAIwO,EAAU,CACZzQ,OAAQ2P,EACR7Q,KAAM8Q,EACN3P,MAAOA,EACPR,KAAMyL,EACNhL,MAAOqQ,EAASrQ,MAChBC,QAASoQ,EAASpQ,SAEE,KAAlBsQ,EAAQxQ,OAAmC,eAAnBwQ,EAAQzQ,OAClB,QAAhBI,UAASC,GACLC,MAAM,kCACNC,UAAMD,MAAM,2BAAQ,kCAGxB1C,EAASiC,KAAKiB,UAAU2P,IAmFuCuB,IAAW,SAClE,cAAC/O,EAAA,QAAI,CAACV,MAAO,CAACC,GAAOkF,SAAU,CAAEzC,SAAU,GAAIpB,WAAY,OAAQ7E,MAAO,YAAa,uCAW/FwD,GAASkC,UAAWC,OAAO,CAC/BlC,UAAW,CACTmC,KAAM,EACN7B,WAAY,SACZ+B,eAAgB,YAElBkC,QAAS,CACPlE,MAAO,MACPwC,OAAQ,MACRT,gBAAiB,UACjBU,aAAc,GACdE,UAAW,GACX1C,WAAY,SACZC,aAAc,IAEhB+N,UAAW,CACTjO,MAAO,OACP+B,gBAAiB,UACjBU,aAAc,GACd2C,cAAe,GACfnF,WAAY,UAEdmO,IAAK,CACHrM,gBAAiB,UACjBsM,gBAAiB,GACjB5L,aAAc,GACdzC,MAAO,OACPC,WAAY,SACZ+B,eAAgB,SAChB9B,aAAc,IAEhBoO,MAAO,CACLtO,MAAO,MACPwC,OAAQ,GACRT,gBAAiB,UACjBU,aAAc,GACd+D,UAAW,UAEbwI,SAAU,CACR/O,WAAY,SACZ+B,eAAgB,SAChBhC,MAAO,MACP8B,KAAM,EACNuM,gBAAgB,IAElBU,OAAQ,CACN9O,WAAY,SACZwC,aAAc,GAGdV,gBAAiB,UACjBsM,gBAAiB,GACjB1L,UAAW,IAEbiC,SAAU,CACR1I,MAAO,UACPiG,SAAU,IAEZ8M,SAAU,CACRjP,MAAO,MACP+B,gBAAiB,UACjB9B,WAAY,SACZwC,aAAc,GACd4L,gBAAiB,IAEnBH,WAAY,CACVtL,SAAU,WACVC,OAAQ,GACRuD,IAAK,GACLlK,MAAO,aC3OLiT,GAAQC,oBAGRC,GAAS,CACbC,UAAW,SACXD,OAAQ,CACNE,UAAW,IACXC,QAAS,IACTC,KAAM,EACNC,mBAAmB,EACnBC,0BAA2B,IAC3BC,mBAAoB,MAIlBC,GAAc,CAClBP,UAAW,SACXD,OAAQ,CACN7F,SAAU,IACVsG,OAAQC,UAAOC,SAGbC,GAAU,CACdC,aAAa,EACbC,aAAc,mBACdC,sBAAuBC,yBAAuBC,sBAC9CC,oBAAoB,EACpBC,eAAgB,CACdC,KAAMpB,GACNqB,MAAOb,KAGLc,GAAU,CACdT,aAAa,EACbC,aAAc,mBACdC,sBAAuBC,yBAAuBC,sBAC9CC,oBAAoB,EACpBC,eAAgB,CACdC,KAAMpB,GACNqB,MAAOb,KAII,SAASe,KACtB,OACE,cAAC,gBAAa,CAACC,UAAU,MAAMC,YAAY,sBAAqB,SAC9D,cAACC,EAAA,QAAmB,UAClB,eAAC5B,GAAM6B,UAAS,CAACC,cAAe,CAAEC,gBAAgB,EAAMX,oBAAoB,GAAO,UACjF,cAACpB,GAAMgC,OAAM,CAACnV,KAAK,YAAYoV,UAAW/S,EAAagT,QAAS,CAAEnB,aAAa,KAC/E,cAACf,GAAMgC,OAAM,CAACnV,KAAK,aAAaoV,UAAWrO,EAAcsO,QAAS,CAAEnB,aAAa,EAAOC,aAAc,sBACtG,cAAChB,GAAMgC,OAAM,CAACnV,KAAK,WAAWoV,UAAWvI,EAAYwI,QAAS,CAAEnB,aAAa,KAC7E,cAACf,GAAMgC,OAAM,CAACnV,KAAK,iBAAiBoV,UAAWzG,EAAkB0G,QAASpB,KAC1E,cAACd,GAAMgC,OAAM,CAACnV,KAAK,mBAAmBoV,UAAWxE,GAAcyE,QAASV,YAOnE/O,UAAWC,OAAO,CAC/BlC,UAAW,CACTmC,KAAM,EAEN7B,WAAY,SACZ+B,eAAgB,a,0DC9EpBsP,EAAOC,QAAU,IAA0B,2C,oBCA3CD,EAAOC,QAAU,IAA0B,uC","file":"static/js/app.c91daa7f.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\"\r\nimport { getAuth } from \"firebase/auth\"\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAXACnrvsNZUTwrY8U4W2MRny1L9gvdd1E\",\r\n  authDomain: \"fir-auth-fcb5a.firebaseapp.com\",\r\n  projectId: \"fir-auth-fcb5a\",\r\n  storageBucket: \"fir-auth-fcb5a.appspot.com\",\r\n  messagingSenderId: \"698945496132\",\r\n  appId: \"1:698945496132:web:de418f4bb6b4e0f3bac811\"\r\n};\r\n\r\n// Initialize Firebase\r\nexport const app = initializeApp(firebaseConfig);\r\nexport const authentication = getAuth(app);\r\nexport const db = getFirestore(app);","import React from 'react'\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { app, db } from '../../Core/Config'\r\nimport { collection, getDocs, query, where, orderBy, onSnapshot, limit, addDoc } from 'firebase/firestore';\r\nimport { getAuth, signOut } from \"firebase/auth\";\r\nimport { async } from '@firebase/util';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Alert, Platform } from 'react-native';\r\n\r\n// =========== 登出 ===========\r\nexport const handleSignOut = (props) => {\r\n  const auth = getAuth(app);\r\n  const navigation = useNavigation()\r\n  signOut(auth)\r\n    .then(() => {\r\n      navigation.replace('LoginPage')\r\n    })\r\n    .catch(err => alert(err.message))\r\n}\r\n// =========== 登出 ===========\r\n\r\n\r\n// =========== 刷新資料 ===========\r\nexport const data_ReFlash = async () => {\r\n  // 篩遠特定資料\r\n  const q = query(collection(db, \"希恩之家\"), where(\"name\", \"!=\", \"\"));\r\n  let list = []\r\n  const querySnapshot = await getDocs(q);\r\n  querySnapshot.forEach((doc) => {\r\n    // console.log(doc.id, \" => \", doc.data());\r\n    let arr = doc.data()\r\n    arr['id'] = doc.id\r\n    list.push(arr)\r\n  });\r\n\r\n  // group姓名\r\n  let result = Object.entries(list.reduce((acc, { name }) => {\r\n    acc[name] = (acc[name] || []);\r\n    acc[name].push({ name });\r\n    return acc;\r\n  }, {})).map(([key]) => ({ name: key }));\r\n\r\n  // 再新增資料\r\n  const color = ['#F7DBCD', '#C7DEE2', '#F0D6A8', '#B4C5E1']\r\n  const color2 = ['#F5C3A2', '#99C4CE', '#E7B358', '#88A0C6']\r\n  let total = []\r\n  for (let i = 0; i < result.length; i++) {\r\n    const q = query(collection(db, \"希恩之家\"), where(\"name\", \"==\", result[i].name), orderBy(\"date\", 'desc'), limit(1));\r\n    const querySnapshot = await getDocs(q);\r\n    querySnapshot.forEach((doc) => {\r\n      let aoc = doc.data()\r\n      let pushData = result[i]         // 把 result 每筆拆開\r\n      pushData['color'] = color[i % color.length]    // 新增 color 欄位\r\n      pushData['color2'] = color2[i % color.length]    // 新增 color 欄位\r\n      pushData['date'] = aoc.date   // 新增日期\r\n      pushData['babyId'] = aoc.babyId   // 新增寶寶ID\r\n      total.push(pushData)   // 再將拆開的 result 跟 color 打包成一筆放到 total 內\r\n    });\r\n  }\r\n  // console.log(total)\r\n  return total\r\n}\r\n// =========== 刷新資料 ===========\r\n\r\n// 新增一筆資料\r\nexport const data_Add = async (props) => {\r\n  // 設定從AddNurseTime傳過來的值\r\n  const passProps = JSON.parse(props)\r\n  // console.log(passProps.name)\r\n  try {\r\n    const docRef = await addDoc(collection(db, \"希恩之家\"), {\r\n      babyId: passProps.BabyId,\r\n      name: passProps.name,\r\n      nurse: passProps.nurse,\r\n      date: passProps.date,\r\n      empNo: passProps.empNo,\r\n      empName: passProps.empName\r\n    });\r\n    // console.log('新增紀錄ID:', docRef.id);\r\n    Platform.OS === 'web'\r\n      ? alert('新增成功')\r\n      : Alert.alert('訊息通知', '新增成功')\r\n  } catch (err) {\r\n    console.error('記錄新增錯誤', err);\r\n    Platform.OS === 'web'\r\n      ? alert('新增失敗')\r\n      : Alert.alert('錯誤訊息', '新增失敗')\r\n  }\r\n}\r\n\r\n// ====== 讀取登入資料 ======\r\nexport const Read_Data = async (props) => {\r\n  const q = query(collection(db, \"users\"), where(\"empEmail\", \"==\", props));\r\n  let data = ''\r\n  const querySnapshot = await getDocs(q);\r\n  querySnapshot.forEach((doc) => {\r\n    // doc.data() is never undefined for query doc snapshots\r\n    // console.log(doc.id, \" => \", doc.data());\r\n    data = doc.data()\r\n  });\r\n\r\n  // ====== 將註冊資訊存儲到AsyncStorage ======\r\n  const storeData = async () => {\r\n    try {\r\n      let jsonStr = data\r\n      const jsonValue = JSON.stringify(jsonStr)\r\n      await AsyncStorage.setItem('userData', jsonValue)\r\n    } catch (err) {\r\n      console.log('AS儲存錯誤', err)\r\n    }\r\n  }\r\n  storeData()\r\n}\r\n\r\n","import React, { useEffect, useState } from 'react'\nimport { Image, StyleSheet, Text, TextInput, TouchableOpacity, View, KeyboardAvoidingView, Alert, TouchableWithoutFeedback, Keyboard, Platform } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { app } from '../../Core/Config'\nimport { Read_Data, storeData } from '../components/DataProcess'\n\nexport default function LoginScreen(props) {\n\n  const [kbState, setKbState] = useState('')\n  // Firebase\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const auth = getAuth(app);\n  // 換頁\n  const navigation = useNavigation()\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      if (user) {\n        navigation.replace('HomePage')\n      }\n    })\n    return unsubscribe\n  }, [])\n\n  // 帳號登入\n  const handleLogin = () => {\n    signInWithEmailAndPassword(auth, email, password)\n      .then(userCredentials => {\n        const user = userCredentials.user;\n        Read_Data(user.email)\n        // console.log(userData)\n        // console.log('Logged in with', user.email)\n      })\n      .catch((err) => {\n        if (err.message === 'Firebase: Error (auth/invalid-email).' || 'Firebase: Error (auth/wrong-password).') {\n          Platform.OS === 'web'\n            ? alert('帳號或密碼錯誤')\n            : Alert.alert('錯誤訊息', '帳號或密碼錯誤')\n        } else {\n          Platform.OS === 'web'\n            ? alert(err.message)\n            : Alert.alert('錯誤訊息', err.message)\n        }\n        console.log(err.message)\n      })\n  }\n\n  const kbCheck = () => {\n    let board = ''\n    if (Platform.OS === 'ios') {\n      board = Keyboard.dismiss\n    } else if (Platform.OS === 'android') {\n      board = Keyboard.dismiss\n    } else {\n    }\n    return board\n  }\n\n  return (\n    <TouchableWithoutFeedback onPress={kbCheck()}>\n      <KeyboardAvoidingView style={styles.container} behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}>\n        <View style={styles.top_bg}>\n        </View>\n        <View style={styles.login_bg}>\n          <View style={{ width: '100%', alignItems: 'center', marginBottom: 60 }}>\n            <Text style={styles.login_title}>LOGIN</Text>\n            <View style={styles.login_area}>\n              <TextInput\n                style={styles.login_input}\n                placeholder='電子信箱'\n                placeholderTextColor={'#ADADAD'}\n                value={email}\n                onChangeText={text => setEmail(text)}\n              />\n              <TextInput\n                style={styles.login_input}\n                placeholder='密碼'\n                placeholderTextColor={'#ADADAD'}\n                value={password}\n                secureTextEntry\n                onChangeText={text => setPassword(text)}\n              />\n              <Text style={styles.h4_text}>還沒有帳號嗎?\n                <Text style={{ color: '#3D5478', fontWeight: 'bold' }}\n                  onPress={() => navigation.navigate('SignupPage')}>馬上註冊</Text>\n              </Text>\n            </View>\n          </View>\n        </View>\n\n        <TouchableOpacity style={styles.login_icon_bg} onPress={() => handleLogin()}>\n          <Image source={require('../icon/right-arrow_y.png')} style={styles.login_icon} />\n        </TouchableOpacity>\n\n      </KeyboardAvoidingView>\n    </TouchableWithoutFeedback>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F0D6A8',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 5\n  },\n  top_bg: {\n    backgroundColor: '#E7B358',\n    width: '100%',\n    flex: 3,\n    borderBottomLeftRadius: 60,\n  },\n  login_bg: {\n    flex: 3,\n    backgroundColor: '#F0D6A8',\n    width: '100%',\n    alignItems: \"center\",\n    justifyContent: 'center',\n  },\n  login_title: {\n    color: '#3D5478',\n    fontSize: 28,\n    fontWeight: 'bold',\n    alignSelf: 'flex-start',\n    transform: [{ translateX: 40 }]\n  },\n  login_area: {\n    width: '60%',\n    alignItems: 'center',\n    marginRight: 80\n  },\n  login_input: {\n    width: '90%',\n    height: 40,\n    backgroundColor: '#EBEBEB',\n    borderRadius: 10,\n    paddingLeft: 14,\n    marginTop: 20,\n  },\n  login_icon: {\n    height: '50%',\n    width: '50%',\n  },\n  login_icon_bg: {\n    height: 80,\n    width: 80,\n    borderRadius: 60,\n    backgroundColor: '#3D5478',\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'absolute',\n    right: 32,\n    bottom: 60\n  },\n  h4_text: {\n    fontSize: 12,\n    marginTop: 10,\n  }\n});\n","import { Alert, StyleSheet, Text, TextInput, View, TouchableWithoutFeedback, Keyboard, KeyboardAvoidingView, TouchableOpacity, Platform } from 'react-native'\r\nimport React, { useState } from 'react'\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport { app, db } from '../../Core/Config'\r\nimport { setDoc, doc } from \"firebase/firestore\";\r\n\r\nconst SignupScreen = (props) => {\r\n\r\n  const [userName, setUserName] = useState('')\r\n  const [userId, setUserId] = useState('')\r\n  const [userEmail, setUserEmail] = useState('')\r\n  const [userPwd, setUserPwd] = useState('')\r\n  const [userPwdDChk, setUserPwdDChk] = useState('')\r\n  const [userPwdState, setUserPwdState] = useState('')  // 密碼格式判斷\r\n  const [seeChkText, setSeeChkText] = useState('none')\r\n  const [seePwd, setSeePwd] = useState(true)    // TODO是否顯示密碼\r\n  const auth = getAuth(app);\r\n\r\n  // 註冊帳號\r\n  const handleSignUp = () => {\r\n    if (userPwdDChk === userPwd) {\r\n      createUserWithEmailAndPassword(auth, userEmail, userPwd)\r\n        .then(async userCredentials => {\r\n          const user = userCredentials.user;\r\n\r\n          // ====== 將註冊資訊存儲到AsyncStorage ======\r\n          const storeData = async () => {\r\n            try {\r\n              let jsonStr = { empNo: userId, empName: userName, empEmail: userEmail }\r\n              const jsonValue = JSON.stringify(jsonStr)\r\n              await AsyncStorage.setItem('userData', jsonValue)\r\n            } catch (err) {\r\n              console.log('註冊AS錯誤', err)\r\n            }\r\n          }\r\n          storeData()\r\n          // ====== 將註冊資訊存儲到AsyncStorage ======\r\n\r\n          await setDoc(doc(db, \"users\", user.uid), {      //同時寫入使用者個人資料\r\n            empName: userName,\r\n            empNo: userId,\r\n            empEmail: userEmail,\r\n          })\r\n          Platform.OS === 'web'\r\n            ? alert('註冊成功')\r\n            : Alert.alert('註冊訊息', '註冊成功')\r\n        })\r\n        .catch((err) => {\r\n          if (err.message === 'Firebase: Error (auth/invalid-email).' || 'Firebase: Error (auth/wrong-password).') {\r\n            Platform.OS === 'web'\r\n              ? alert('帳號或密碼錯誤')\r\n              : Alert.alert('錯誤訊息', '帳號或密碼錯誤')\r\n          } else {\r\n            Platform.OS === 'web'\r\n              ? alert(err.message)\r\n              : Alert.alert('錯誤訊息', err.message)\r\n          }\r\n          console.log(err.message)\r\n        })\r\n    } else {\r\n      Platform.OS === 'web'\r\n        ? alert('密碼不一致')\r\n        : Alert.alert('錯誤訊息', '密碼不一致')\r\n    }\r\n  }\r\n\r\n\r\n  // ====== 密碼格式判斷 ======\r\n  const isValidUserId = (value) => {\r\n    const pattern = /^.{6,16}$/;\r\n    if (!pattern.test(value)) {\r\n      setSeeChkText('flex')\r\n      return '密碼長度為6-16個字'\r\n    }\r\n\r\n    const isNonWhiteSpace = /^\\S*$/;\r\n    if (!isNonWhiteSpace.test(value)) {\r\n      setSeeChkText('flex')\r\n      return '密碼中不包含空格'\r\n    }\r\n    setSeeChkText('none')\r\n    return true\r\n  }\r\n\r\n  // 選取到密碼輸入時判斷身份證的格式是否正確\r\n  const pwdCheck = () => {\r\n    const checkPwd = isValidUserId(userPwd)\r\n    if (checkPwd) {\r\n      setUserPwdState(checkPwd)\r\n      // console.log(checkPwd)\r\n    }\r\n  }\r\n\r\n  // ====== 判斷裝置是否要收起鍵盤 ======\r\n  const kbCheck = () => {\r\n    let board = ''\r\n    if (Platform.OS === 'ios') {\r\n      board = Keyboard.dismiss\r\n    } else if (Platform.OS === 'android') {\r\n      board = Keyboard.dismiss\r\n    } else {\r\n    }\r\n    return board\r\n  }\r\n\r\n  return (\r\n    <TouchableWithoutFeedback onPress={kbCheck()}>\r\n      <KeyboardAvoidingView style={{ flex: 1 }} behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}>\r\n        <View style={styles.container}>\r\n          <View style={styles.main_bg}>\r\n            <View style={styles.input_area}>\r\n              <Text style={styles.input_title}>名稱</Text>\r\n              <TextInput\r\n                style={styles.input_text}\r\n                placeholder='王小明'\r\n                placeholderTextColor={'#ADADAD'}\r\n                value={userName}\r\n                onChangeText={(text) => setUserName(text)} />\r\n            </View>\r\n            <View style={styles.input_area}>\r\n              <Text style={styles.input_title}>編號</Text>\r\n              <TextInput\r\n                style={styles.input_text}\r\n                placeholder='A01234'\r\n                placeholderTextColor={'#ADADAD'}\r\n                value={userId}\r\n                onChangeText={(text) => setUserId(text)} />\r\n            </View>\r\n            <View style={styles.input_area}>\r\n              <Text style={styles.input_title}>電子信箱</Text>\r\n              <TextInput\r\n                style={styles.input_text}\r\n                placeholder='someone@abc.com'\r\n                placeholderTextColor={'#ADADAD'}\r\n                value={userEmail}\r\n                onChangeText={(text) => setUserEmail(text)} />\r\n            </View>\r\n            <View style={styles.input_area}>\r\n              <Text style={styles.input_title}>密碼</Text>\r\n              <TextInput\r\n                style={styles.input_text}\r\n                placeholder='6~16位數'\r\n                placeholderTextColor={'#ADADAD'}\r\n                value={userPwd}\r\n                secureTextEntry\r\n                onFocus={() => setUserPwdState('')}\r\n                onChangeText={(text) => setUserPwd(text)} />\r\n              <Text style={[styles.userPwdState_text, { display: seeChkText }]}>{userPwdState}</Text>\r\n            </View>\r\n            <View style={styles.input_area}>\r\n              <Text style={styles.input_title}>確認密碼</Text>\r\n              <TextInput\r\n                style={styles.input_text}\r\n                placeholder='6~16位數'\r\n                placeholderTextColor={'#ADADAD'}\r\n                value={userPwdDChk}\r\n                secureTextEntry\r\n                onFocus={() => pwdCheck()}\r\n                onChangeText={(text) => setUserPwdDChk(text)} />\r\n            </View>\r\n\r\n            <View style={{ height: '10%', flexDirection: 'row', marginTop: 20, width: '100%' }}>\r\n              <TouchableOpacity style={styles.back_btn} onPress={() => props.navigation.pop()}>\r\n                <Text style={styles.btn_text}>返回</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.reg_btn} onPress={() => handleSignUp()}>\r\n                <Text style={styles.btn_text}>註冊</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </KeyboardAvoidingView>\r\n    </TouchableWithoutFeedback>\r\n  )\r\n}\r\n\r\nexport default SignupScreen\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  main_bg: {\r\n    width: '84%',\r\n    maxHeight: '90%',\r\n    backgroundColor: '#68AEA0',\r\n    borderRadius: 30,\r\n    alignItems: 'center',\r\n    paddingTop: 20,\r\n    paddingBottom: 40,\r\n    paddingHorizontal: 30\r\n  },\r\n  input_area: {\r\n    width: '100%',\r\n    alignItems: 'flex-start',\r\n    marginBottom: 20\r\n  },\r\n  input_title: {\r\n    color: '#3D5478',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    marginBottom: 4,\r\n  },\r\n  input_text: {\r\n    width: '100%',\r\n    height: 40,\r\n    backgroundColor: '#EBEBEB',\r\n    borderRadius: 10,\r\n    paddingLeft: 10,\r\n  },\r\n  userPwdState_text: {\r\n    color: '#DB0E3F',\r\n    fontSize: 12,\r\n    fontWeight: 'bold',\r\n    marginTop: 2,\r\n  },\r\n  back_btn: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#EBEBEB',\r\n    borderRadius: 10,\r\n    marginRight: 10\r\n  },\r\n  reg_btn: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#99C4CE',\r\n    borderRadius: 10,\r\n    marginLeft: 10\r\n  },\r\n  btn_text: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#3D5478'\r\n  }\r\n});\r\n","import { StyleSheet } from \"react-native\";\r\n\r\nexport default StyleSheet.create({\r\n    card_base: {\r\n        width: 340,\r\n        height: 130,\r\n        borderRadius: 20,\r\n        backgroundColor: '#d4d4d4',\r\n        alignItems: 'center',\r\n        flexDirection: 'row',\r\n        marginTop: 20\r\n    },\r\n    detail_card_white: {\r\n        width: 290,\r\n        height: 36,\r\n        backgroundColor: '#f4f4f4',\r\n        borderRadius: 30,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n    },\r\n    file_card: {\r\n        width: 140,\r\n        height: 160,\r\n        borderRadius: 30,\r\n        backgroundColor: \"#E7B358\",\r\n        shadowColor: \"rgba(0, 0, 0, 0.25)\",\r\n        shadowOffset: {\r\n            width: 2,\r\n            height: 2\r\n        },\r\n        shadowRadius: 4,\r\n        shadowOpacity: 1,\r\n        alignItems: 'center'\r\n    }\r\n})","import { StyleSheet } from 'react-native';\r\n\r\nexport default StyleSheet.create({\r\n  home_title: {\r\n    color: '#3D5478',\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    marginTop: 46\r\n  },\r\n  base_text: {\r\n    color: '#3D5478',\r\n  },\r\n  card_name: {\r\n    color: '#3D5478',\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginRight: 10,\r\n  },\r\n  card_age: {\r\n    color: '#3D5478',\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n  },\r\n  card_text: {\r\n    color: '#3D5478',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    marginBottom: 2\r\n  },\r\n  card_id: {\r\n    color: '#3D5478',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    position: 'absolute',\r\n    right: 16,\r\n    top: 10\r\n  },\r\n  detail_title: {\r\n    color: '#3D5478',\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n  },\r\n  detail_date: {\r\n    color: '#3D5478',\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n  },\r\n  detail_time: {\r\n    color: '#3D5478',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    flex: 1,\r\n    textAlign: 'center'\r\n  },\r\n  detail_text: {\r\n    color: '#3D5478',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    flex: 1,\r\n    textAlign: 'center'\r\n  },\r\n  detail_line: {\r\n    backgroundColor: '#3D5478',\r\n    alignSelf: 'center',\r\n    width: 2,\r\n    height: '60%'\r\n  },\r\n  file_detail_title: {\r\n    color: '#3D5478',\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    marginBottom: 4\r\n\r\n  },\r\n  file_detail_data: {\r\n    color: '#3D5478',\r\n    fontSize: 16\r\n  },\r\n  title_16: {\r\n    color: '#3D5478',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  }\r\n})","import React, { useState } from \"react\";\r\nimport { TouchableOpacity, Text, Image, View } from \"react-native\";\r\nimport CardStyle from \"../style/CardStyle\";\r\nimport TextStyle from \"../style/TextStyle\";\r\n\r\nexport const MainCard = props => (\r\n    <TouchableOpacity onPress={props.cardOnPress}>\r\n        <View style={[CardStyle.card_base, { backgroundColor: props.card_color }]}>\r\n            <Image source={props.babyPic} style={{ width: 80, height: 80, margin: 20 }} />\r\n            <View>\r\n                <View style={{ flexDirection: 'row', alignItems: 'baseline' }}>\r\n                    <Text style={TextStyle.card_name}>{props.babyName}</Text>\r\n                    <Text style={TextStyle.card_age}>1歲2個月</Text>\r\n                </View>\r\n                <View style={{ marginTop: 6 }}>\r\n                    <Text style={TextStyle.card_text}>上次餵奶時間：</Text>\r\n                    <Text style={[TextStyle.card_text, { transform: [{ translateX: 18 }] }]}>{props.nearTime}</Text>\r\n                </View>\r\n            </View>\r\n            <Text style={TextStyle.card_id}>{props.babyId}</Text>\r\n        </View>\r\n    </TouchableOpacity>\r\n)\r\n\r\nexport const DetailCard = props => (\r\n    <View style={{marginTop:18}}>\r\n        <View style={{marginBottom:8}}>\r\n            <Text style={TextStyle.detail_date}>{props.date}</Text>\r\n        </View>\r\n        <View style={props.cardStyle}>\r\n                <Text style={TextStyle.detail_time}>{props.time}</Text>\r\n                <View style={TextStyle.detail_line}></View>\r\n                <Text style={TextStyle.detail_text}>{props.item} {props.capacity}</Text>\r\n                <View style={TextStyle.detail_line}></View>\r\n                <Text style={TextStyle.detail_text}>{props.name}</Text>\r\n        </View>\r\n    </View>\r\n)\r\n\r\nexport const FileCard = props => (\r\n    <TouchableOpacity onPress={props.cardOnPress}>\r\n        <View style={[CardStyle.file_card, { padding: 14 }]}>\r\n            <Image source={props.cardImg} style={{ width: 80, height: 80, marginBottom: 4 }} />\r\n            <Text style={[TextStyle.base_text, { fontSize: 24, fontWeight: 'bold' }]}>{props.cardName}</Text>\r\n            <Text style={TextStyle.base_text}>{props.cardId}</Text>\r\n        </View>\r\n    </TouchableOpacity>\r\n)\r\n\r\nexport const FileDetailCard = props => (\r\n    <View style={{ alignItems: 'center', paddingTop: 60 }}>\r\n        <Image source={props.cardImg} style={{ width: 80, height: 80, marginBottom: 4 }} />\r\n        <View style={{ marginBottom: 10, alignItems: 'center' }}>\r\n            <Text style={TextStyle.file_detail_title}>姓名</Text>\r\n            <Text style={TextStyle.file_detail_data}>{props.cardName}</Text>\r\n        </View>\r\n        <View style={{ marginBottom: 10, alignItems: 'center' }}>\r\n            <Text style={TextStyle.file_detail_title}>生日</Text>\r\n            <Text style={TextStyle.file_detail_data}>{props.cardName}</Text>\r\n        </View>\r\n        <View style={{ marginBottom: 10, alignItems: 'center' }}>\r\n            <Text style={TextStyle.file_detail_title}>身份證字號</Text>\r\n            <Text style={TextStyle.file_detail_data}>{props.cardName}</Text>\r\n        </View>\r\n        <View style={{ marginBottom: 10, alignItems: 'center' }}>\r\n            <Text style={TextStyle.file_detail_title}>性別</Text>\r\n            <Text style={TextStyle.file_detail_data}>{props.cardName}</Text>\r\n        </View>\r\n        <View style={{ marginBottom: 10, alignItems: 'center' }}>\r\n            <Text style={TextStyle.file_detail_title}>........暫時以下省略</Text>\r\n        </View>\r\n    </View>\r\n)","\r\n// 完整日期&時間\r\nexport const FullTime = (props) => {\r\n  // 調整時間成AMPM格式\r\n  let date = props.substr(0, 10)\r\n  let hours = props.slice(11, 13)\r\n  let minutes = props.slice(14, 16)\r\n  let ampm = hours >= 12 ? '下午' : '上午';\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12;\r\n  hours = hours.toString().padStart(2, '0');   //補滿2位數\r\n  minutes = minutes.toString().padStart(2, '0');   //補滿2位數\r\n  let strTime = date + ' ' + ampm + hours + ':' + minutes;\r\n  return strTime\r\n}\r\n\r\n// 時間轉換上/下午\r\nexport const TimeAMPM = (props) => {\r\n  // 調整時間成AMPM格式\r\n  let date = props.substr(0, 10)\r\n  let hours = props.slice(11, 13)\r\n  let minutes = props.slice(14, 16)\r\n  let ampm = hours >= 12 ? '下午' : '上午';\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12;\r\n  hours = hours.toString().padStart(2, '0');   //補滿2位數\r\n  minutes = minutes.toString().padStart(2, '0');   //補滿2位數\r\n  let strTime = ampm + ' ' + hours + ':' + minutes;\r\n  return strTime\r\n}\r\n\r\n// 讀取現在時間\r\nexport const NowTime = (props) => {\r\n  let tempDate = new Date();\r\n  // 設定日期\r\n  let year = tempDate.getFullYear()\r\n  let month = (tempDate.getMonth() + 1).toString().padStart(2, '0')\r\n  let day = tempDate.getDate().toString().padStart(2, '0')\r\n  let ndate = year + '/' + month + '/' + day\r\n  // 設定時間\r\n  let hours = tempDate.getHours()\r\n  let minutes = tempDate.getMinutes()\r\n  hours = hours.toString().padStart(2, '0');   //補滿2位數\r\n  minutes = minutes.toString().padStart(2, '0');   //補滿2位數\r\n  let strTime = ndate + ' ' + hours + ':' + minutes;\r\n  return strTime\r\n}\r\n\r\n\r\n\r\n// 日期時間選擇器緩換成可以讀取的格式\r\nexport const TimePickerState = (props) => {\r\n  let year = props.getFullYear()\r\n  let month = (props.getMonth() + 1).toString().padStart(2, '0')\r\n  let date = props.getDate().toString().padStart(2, '0')\r\n  let fDate = year + '/' + month + '/' + date\r\n  let hours = props.getHours()\r\n  let minutes = props.getMinutes()\r\n  hours = hours.toString().padStart(2, '0')\r\n  minutes = minutes.toString().padStart(2, '0');\r\n  let fTime = hours + ':' + minutes;\r\n  return fDate + ' ' + fTime\r\n}\r\n\r\n","import { Button, StyleSheet, Text, View, FlatList, TouchableOpacity, TouchableHighlight } from 'react-native'\r\nimport React, { useState, useEffect } from 'react'\r\nimport { collection, getDocs, query, where, orderBy, onSnapshot, limit } from 'firebase/firestore';\r\nimport { getAuth, signOut } from \"firebase/auth\";\r\nimport { app, db } from '../../Core/Config'\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { ToastProvider, useToast } from \"react-native-toast-notifications\";\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport Ionicons from 'react-native-vector-icons/Ionicons';\r\n\r\nimport { MainCard } from '../components/Card'\r\nimport TextStyle from '../style/TextStyle';\r\nimport { handleSignOut } from '../components/DataProcess'\r\nimport { FullTime } from '../components/Time';\r\n\r\n\r\nconst HomeScreen = (props) => {\r\n  const auth = getAuth(app);\r\n  const navigation = useNavigation()\r\n  const [userDoc, setUserDoc] = useState([])\r\n  const [pageName, setPageName] = useState('寶寶日誌')\r\n  const [search, setSearch] = useState('')    // TODO 搜尋功能實作\r\n  const toast = useToast();\r\n\r\n\r\n  useEffect(() => {\r\n    const q = query(collection(db, \"希恩之家\"), where(\"name\", \"!=\", search));\r\n    const unsubscribe = onSnapshot(q, async (querySnapshot) => {\r\n      const list = [];\r\n      querySnapshot.forEach((doc) => {\r\n        // console.log(doc.id, \" => \", doc.data());\r\n        let arr = doc.data()\r\n        arr['id'] = doc.id\r\n        list.push(arr)\r\n      });\r\n\r\n      // group姓名\r\n      const result = Object.entries(list.reduce((acc, { name }) => {\r\n        acc[name] = (acc[name] || []);\r\n        acc[name].push({ name });\r\n        return acc;\r\n      }, {})).map(([key]) => ({ name: key }));\r\n\r\n      // 再新增資料\r\n      const color = ['#F7DBCD', '#C7DEE2', '#F0D6A8', '#B4C5E1']\r\n      const color2 = ['#F5C3A2', '#99C4CE', '#E7B358', '#88A0C6']\r\n      let total = []\r\n      for (let i = 0; i < result.length; i++) {\r\n        const q = query(collection(db, \"希恩之家\"), where(\"name\", \"==\", result[i].name), orderBy(\"date\", 'desc'), limit(1));\r\n        const querySnapshot = await getDocs(q);\r\n        querySnapshot.forEach((doc) => {\r\n          let aoc = doc.data()\r\n          let pushData = result[i]         // 把 result 每筆拆開\r\n          pushData['color'] = color[i % color.length]    // 新增 color 欄位\r\n          pushData['color2'] = color2[i % color.length]    // 新增 color 欄位\r\n          pushData['date'] = aoc.date   // 新增日期\r\n          pushData['babyId'] = aoc.babyId   // 新增寶寶ID\r\n          total.push(pushData)   // 再將拆開的 result 跟 color 打包成一筆放到 total 內\r\n        });\r\n      }\r\n      setUserDoc(total)\r\n      // console.log(userDoc)\r\n    });\r\n    return unsubscribe\r\n  }, []);\r\n\r\n  // =========== 登出 ===========\r\n  const handleSignOut = () => {\r\n    signOut(auth)\r\n      .then(() => {\r\n        navigation.replace('LoginPage')\r\n      })\r\n      .catch(err => alert(err.message))\r\n  }\r\n  // =========== 登出 ===========\r\n\r\n\r\n  // =========== 刷新資料 ===========\r\n  const data_ReFlash = async () => {\r\n    // 篩遠特定資料\r\n    const q = query(collection(db, \"希恩之家\"), where(\"name\", \"!=\", \"\"));\r\n    let list = []\r\n    const querySnapshot = await getDocs(q);\r\n    querySnapshot.forEach((doc) => {\r\n      // console.log(doc.id, \" => \", doc.data());\r\n      let arr = doc.data()\r\n      arr['id'] = doc.id\r\n      list.push(arr)\r\n    });\r\n\r\n    // group姓名\r\n    let result = Object.entries(list.reduce((acc, { name }) => {\r\n      acc[name] = (acc[name] || []);\r\n      acc[name].push({ name });\r\n      return acc;\r\n    }, {})).map(([key]) => ({ name: key }));\r\n\r\n    // 再新增資料\r\n    const color = ['#F7DBCD', '#C7DEE2', '#F0D6A8', '#B4C5E1']\r\n    const color2 = ['#F5C3A2', '#99C4CE', '#E7B358', '#88A0C6']\r\n    let total = []\r\n    for (let i = 0; i < result.length; i++) {\r\n      const q = query(collection(db, \"希恩之家\"), where(\"name\", \"==\", result[i].name), orderBy(\"date\", 'desc'), limit(1));\r\n      const querySnapshot = await getDocs(q);\r\n      querySnapshot.forEach((doc) => {\r\n        let aoc = doc.data()\r\n        let pushData = result[i]         // 把 result 每筆拆開\r\n        pushData['color'] = color[i % color.length]    // 新增 color 欄位\r\n        pushData['color2'] = color2[i % color.length]    // 新增 color 欄位\r\n        pushData['date'] = aoc.date   // 新增日期\r\n        pushData['babyId'] = aoc.babyId   // 新增寶寶ID\r\n        total.push(pushData)   // 再將拆開的 result 跟 color 打包成一筆放到 total 內\r\n      });\r\n    }\r\n    setUserDoc(total)\r\n\r\n    // 顯示讀取中的提示\r\n    let load_toast = toast.show(\"讀取中...\", { duration: 1000, });\r\n    toast.update(load_toast, \"Loading completed\", { type: \"success\" });   // 沒有作用\r\n  }\r\n  // =========== 刷新資料 ===========\r\n\r\n\r\n  const showNoticeDetail = (cases) => {\r\n    props.navigation.push('HomeDetailPage', { passProps: cases })\r\n    // console.log(cases)\r\n  }\r\n\r\n  const addTime = (addTime) => {\r\n    props.navigation.push('AddNurseTimePage', { passProps: addTime })\r\n    // console.log(addTime)\r\n  }\r\n\r\n  const renderBook = (cases) => {\r\n    return (\r\n      <TouchableOpacity>\r\n        <View>\r\n          <MainCard\r\n            babyPic={require('../icon/baby-boy.png')}\r\n            babyId={cases.babyId}\r\n            babyName={cases.name}\r\n            card_color={cases.color}\r\n            nearTime={FullTime(cases.date)}\r\n            cardOnPress={() => showNoticeDetail(cases)}\r\n          />\r\n        </View>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <ToastProvider>\r\n      <View style={styles.container}>\r\n        <View style={{ flex: 1, width: '100%', alignItems: 'center' }}>\r\n          <Text style={TextStyle.home_title}>寶寶日誌</Text>\r\n          {/* <Button title='搜尋' onPress={() => toast.show(\"123\")}></Button> */}\r\n          <View style={{ alignItems: 'flex-end', width: '90%' }}>\r\n            <Ionicons name={'search'} size={25} color={'#3D5478'} onPress={() => handleSignOut()} />\r\n          </View>\r\n        </View>\r\n        <View style={styles.FlatView}>\r\n          {/* TODO 新增寶寶 */}\r\n          <FlatList\r\n            data={userDoc}\r\n            renderItem={cases => renderBook(cases.item)}\r\n            keyExtractor={cases => cases.name}\r\n            refreshing={false}\r\n            onRefresh={() => data_ReFlash()}\r\n          />\r\n          <View style={styles.bottom_bar}>\r\n            <View style={{ position: 'absolute', top: -30 }}>\r\n              <TouchableOpacity onPress={() => addTime(userDoc)}>\r\n                <Ionicons name={'add-circle'} size={50} color={'#3D5478'} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n\r\n      </View>\r\n    </ToastProvider>\r\n  )\r\n}\r\n\r\nexport default HomeScreen\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#C9CBE0',\r\n    alignItems: 'center',\r\n  },\r\n  FlatView: {\r\n    width: '93%',\r\n    height: '86%',\r\n    backgroundColor: '#EBEBEB',\r\n    // borderTopLeftRadius: 30,\r\n    // borderTopRightRadius: 30,\r\n    borderRadius: 30,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    // paddingBottom:70\r\n  },\r\n  bottom_bar: {\r\n    // backgroundColor: '#DBDDF0',\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    borderTopLeftRadius: 30,\r\n    borderTopRightRadius: 30,\r\n    height: 30\r\n  }\r\n});\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, StyleSheet, Text, View, TouchableOpacity, FlatList, ScrollView } from 'react-native';\r\nimport { collection, getDocs, query, where, orderBy, onSnapshot, doc } from 'firebase/firestore';\r\nimport { db } from '../../Core/Config'\r\nimport { TimeAMPM } from '../components/Time';\r\nimport Ionicons from 'react-native-vector-icons/Ionicons';\r\n\r\nimport { DetailCard } from '../components/Card';\r\nimport TextStyle from \"../style/TextStyle\";\r\nimport CardStyle from \"../style/CardStyle\";\r\n\r\n\r\nexport default function HomeDetailScreen(props) {\r\n\r\n  // 設定從HomeScreen傳過來的值\r\n  const passProps = props.route.params.passProps || 'noting get'\r\n\r\n  const [timeData, setTimeData] = useState([])\r\n  const [dataSource, setDataSource] = useState([])\r\n\r\n\r\n  useEffect(() => {\r\n    const q = query(collection(db, \"希恩之家\"), where(\"name\", \"==\", passProps.name), orderBy(\"date\", 'desc'));\r\n    const unsubscribe = onSnapshot(q, (querySnapshot) => {\r\n      const list = [];\r\n      querySnapshot.forEach((doc) => {\r\n        let arr = doc.data()      // 放入doc.data()的資料\r\n        arr['id'] = doc.id      //新增一筆名稱是\"id\"的key，將doc.id的值新增進去\r\n        list.push(arr)        // 放到空陣列內\r\n      });\r\n      setDataSource(list)\r\n    });\r\n    return unsubscribe\r\n  }, []);\r\n\r\n  // group日期 目前無使用\r\n  // Array.prototype.groupBy = function(prop) {\r\n  //   return this.reduce(function(groups, item) {\r\n  //     const val = item[prop].slice(5,10)\r\n  //     groups[val] = groups[val] || []\r\n  //     groups[val].push(item)\r\n  //     return groups\r\n  //   }, {})\r\n  // };\r\n  // const groupByMake = dataSource.groupBy('date');\r\n  // // console.log('group',groupByMake[\"06/11\"][0].date)\r\n\r\n  let nData = []\r\n  for (let i = 0; i < dataSource.length; i++) {\r\n    let dataS = dataSource[i]\r\n    let dataTime = dataSource[i].date.substr(5, 5)\r\n    let lineColor\r\n    if (i % 2 === 0) {\r\n      lineColor = passProps.color2\r\n    } else {\r\n      lineColor = '#f4f4f4'\r\n    }\r\n\r\n    nData.push(\r\n      <DetailCard key={i}\r\n        cardStyle={[CardStyle.detail_card_white, { backgroundColor: lineColor }]}\r\n        date={dataS.date.slice(0, 10)}\r\n        clg\r\n        time={TimeAMPM(dataS.date)}\r\n        item={'亞培'}   //TODO\r\n        capacity={dataS.nurse+'cc'}\r\n        name={dataS.empName}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={{ alignItems: 'flex-start', width: '100%', marginLeft: 20, marginBottom: 2 }}>\r\n        <Ionicons name={'chevron-back'} size={36} color={'#3D5478'} onPress={() => props.navigation.pop()} />\r\n      </View>\r\n      <View style={styles.main_bg}>\r\n        <View style={[styles.scroll_bg, { backgroundColor: passProps.color }]}>\r\n          <View style={{ marginTop: 16 }}>\r\n            <Text style={TextStyle.detail_title}>{passProps.name}</Text>\r\n          </View>\r\n          <View style={{ height: '100%' }}>\r\n            <ScrollView>\r\n              <View style={{ alignItems: 'center' }}>\r\n                {nData}\r\n              </View>\r\n            </ScrollView>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  main_bg: {\r\n    width: '93%',\r\n    height: '86%',\r\n    backgroundColor: '#EBEBEB',\r\n    borderTopLeftRadius: 36,\r\n    borderTopRightRadius: 36,\r\n    marginTop: 20,\r\n  },\r\n  scroll_bg: {\r\n    width: '100%',\r\n    flex: 1,\r\n    backgroundColor: '#F7DBCD',\r\n    borderTopLeftRadius: 36,\r\n    borderTopRightRadius: 36,\r\n    marginTop: 20,\r\n    alignItems: 'center'\r\n  }\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { StyleSheet, Text, View } from 'react-native';\r\nimport { Dropdown } from 'react-native-element-dropdown';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nconst data = [\r\n  { label: 'Item 1', value: '1' },\r\n  { label: 'Item 2', value: '2' },\r\n  { label: 'Item 3', value: '3' },\r\n  { label: 'Item 4', value: '4' },\r\n  { label: 'Item 5', value: '5' },\r\n  { label: 'Item 6', value: '6' },\r\n  { label: 'Item 7', value: '7' },\r\n  { label: 'Item 8', value: '8' },\r\n];\r\n\r\nconst DropdownComponent = (props) => {\r\n\r\n  const [value, setValue] = useState(null);\r\n  const [name, setName] = useState(null);\r\n  const [isFocus, setIsFocus] = useState(false);\r\n  const navigation = useNavigation()\r\n\r\n\r\n  const renderLabel = () => {\r\n    if (value || isFocus) {\r\n      return (\r\n        <Text style={[styles.label, isFocus && { color: '#68AEA0' }]}>\r\n          要記錄的寶寶\r\n        </Text>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  useEffect(() => {\r\n    navigation.navigate('AddNurseTimePage', { BabyId: value, name: name })\r\n    // console.log(name)\r\n  }, [value])\r\n\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {renderLabel()}\r\n      <Dropdown\r\n        style={[styles.dropdown, isFocus && { borderColor: '#68AEA0' }]}\r\n        containerStyle={{ backgroundColor: '#DBDDF0' }}    // 下拉框的樣式\r\n        placeholderStyle={styles.placeholderStyle}    // 選擇前文字框文字的樣式\r\n        selectedTextStyle={styles.selectedTextStyle}    // 選擇後文字框文字的樣式\r\n        itemContainerStyle={[styles.itemContainerStyle, isFocus && { borderColor: '#B97687' }]}    // 下拉框選項的樣式\r\n        itemTextStyle={styles.itemTextStyle}    // 下拉框選項文字樣式\r\n        inputSearchStyle={styles.inputSearchStyle}    // 搜尋文字框文字的樣式\r\n        data={props.data}\r\n        search\r\n        maxHeight={300}\r\n        labelField=\"label\"\r\n        valueField=\"value\"\r\n        placeholder={!isFocus ? '選擇寶寶' : '...'}\r\n        searchPlaceholder=\"搜尋...\"\r\n        value={value}\r\n        onFocus={() => setIsFocus(true)}\r\n        onBlur={() => setIsFocus(false)}\r\n        onChange={item => {\r\n          setValue(item.value);\r\n          setName(item.name)\r\n          setIsFocus(false);\r\n        }}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default DropdownComponent;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: '#DBDDF0',\r\n    // padding: 16,\r\n    paddingTop: 16\r\n  },\r\n  dropdown: {\r\n    height: 50,\r\n    borderColor: '#3D5478',\r\n    borderWidth: 0.5,\r\n    borderRadius: 8,\r\n    paddingHorizontal: 8,\r\n  },\r\n  icon: {\r\n    marginRight: 5,\r\n  },\r\n  label: {\r\n    position: 'absolute',\r\n    backgroundColor: '#DBDDF0',\r\n    left: 22,\r\n    top: 8,\r\n    zIndex: 999,\r\n    paddingHorizontal: 8,\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n    color: '#3D5478'\r\n  },\r\n  placeholderStyle: {\r\n    fontSize: 16,\r\n    color: '#3D5478',\r\n    textAlign: 'center'\r\n  },\r\n  selectedTextStyle: {\r\n    fontSize: 16,\r\n    color: '#3D5478',\r\n    textAlign: 'center'\r\n  },\r\n  inputSearchStyle: {\r\n    height: 40,\r\n    fontSize: 16,\r\n    backgroundColor: '#DBDDF0',\r\n    color: '#3D5478',\r\n  },\r\n  itemTextStyle: {\r\n    color: '#3D5478',\r\n    textAlign: 'center'\r\n  },\r\n  itemContainerStyle: {\r\n    backgroundColor: '#DBDDF0',\r\n    borderRadius: 10\r\n  }\r\n});","import { Keyboard, StyleSheet, Text, TextInput, TouchableWithoutFeedback, View, Button, TouchableOpacity, Alert, Platform } from 'react-native'\r\nimport React, { useEffect, useState } from 'react'\r\nimport Ionicons from 'react-native-vector-icons/Ionicons';\r\nimport DateTimePicker from '@react-native-community/datetimepicker';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nimport TextStyle from \"../style/TextStyle\";\r\nimport LazDropdown from '../components/DropDown'\r\nimport * as Time from '../components/Time.js'\r\nimport { data_Add } from '../components/DataProcess'\r\n\r\nconst AddNurseTime = (props) => {\r\n  // 設定從HomeScreen傳過來的值\r\n  const passProps = props.route.params.passProps || 'noting get'\r\n  // 設定從下拉選擇傳回來的值\r\n  const dropBabyId = props.route.params.BabyId || 'noting get'\r\n  const dropName = props.route.params.name || 'noting get'\r\n\r\n  const chsText = props.route.params.chsText || 'noting get'\r\n\r\n  const [date, setDate] = useState(new Date())\r\n  const [mode, setMode] = useState('date')\r\n  const [show, setShow] = useState(false)\r\n  const [NowTime, setNowTime] = useState(Time.NowTime())\r\n  const [nurse, setNurse] = useState('')\r\n\r\n  const [dropData, setDropData] = useState([])\r\n  const [userData, setUserData] = useState('')\r\n\r\n  useEffect(() => {\r\n    let dataArr = []\r\n    for (let i = 0; i < passProps.length; i++) {\r\n      let arr = {}\r\n      arr['label'] = passProps[i].name + '(' + passProps[i].babyId + ')'\r\n      arr['value'] = passProps[i].babyId\r\n      arr['name'] = passProps[i].name\r\n      dataArr.push(arr)\r\n    }\r\n    setDropData(dataArr)\r\n    const getData = async () => {\r\n      try {\r\n        const jsonValue = await AsyncStorage.getItem('userData')\r\n        setUserData(JSON.parse(jsonValue))\r\n        return jsonValue != null ? JSON.parse(jsonValue) : null;\r\n      } catch (e) {\r\n        // error reading value\r\n      }\r\n    }\r\n    getData()\r\n    // console.log('讀取使用者', userData.empName)\r\n  }, [])\r\n\r\n  // ========== 日期時間選擇器 ==========\r\n  const onChange = (event, selectedDate) => {\r\n    const currentDate = selectedDate || date\r\n    setShow(false)\r\n    setDate(currentDate)\r\n    let time = Time.TimePickerState(new Date(selectedDate))\r\n    setNowTime(time)\r\n  }\r\n\r\n  const showMode = (currentMode) => {\r\n    setShow(true)\r\n    setMode(currentMode)\r\n  }\r\n  // ========== 日期時間選擇器 ==========\r\n\r\n\r\n\r\n  // ====== 上傳紀錄資料 ======\r\n  const sendData = () => {\r\n    let dataArr = {\r\n      BabyId: dropBabyId,\r\n      name: dropName,\r\n      nurse: nurse,\r\n      date: NowTime,\r\n      empNo: userData.empNo,\r\n      empName: userData.empName\r\n    }\r\n    if (dataArr.nurse === '' || dataArr.BabyId === 'noting get') {\r\n      Platform.OS === 'web'\r\n        ? alert('請填寫完整')\r\n        : Alert.alert('錯誤訊息', '請填寫完整')\r\n    } else {\r\n      // console.log(dataArr)\r\n      data_Add(JSON.stringify(dataArr))\r\n    }\r\n  }\r\n  // ====== 上傳紀錄資料 ======\r\n\r\n  const kbCheck = () => {\r\n    let board = ''\r\n    if (Platform.OS === 'ios') {\r\n      board = Keyboard.dismiss\r\n    } else if (Platform.OS === 'android') {\r\n      board = Keyboard.dismiss\r\n    } else {\r\n    }\r\n    return board\r\n  }\r\n\r\n  return (\r\n    <TouchableWithoutFeedback onPress={kbCheck()}>\r\n      <View style={styles.container}>\r\n        <View style={{ alignItems: 'flex-start', width: '100%', marginLeft: 20, marginBottom: 2 }}>\r\n          <Ionicons name={'chevron-back'} size={36} color={'#EBEBEB'} onPress={() => props.navigation.pop()} />\r\n        </View>\r\n        <View style={styles.main_bg}>\r\n          <View style={styles.record_bg}>\r\n            <View style={{ width: '80%', justifyContent: 'center', alignItems: 'center' }}>\r\n              {/* TODO新增成員頁面 */}\r\n              <Text style={styles.new_member} onPress={() => { console.log('TODO') }}>新增成員</Text>\r\n              <View style={{ marginVertical: 16 }}>\r\n                <Text style={TextStyle.detail_title}>新增紀錄</Text>\r\n              </View>\r\n\r\n              {/* 寶寶選擇 */}\r\n              <View style={[styles.box, { paddingVertical: 10 }]}>\r\n                <View style={{ width: '60%', marginBottom: 16 }}>\r\n                  <LazDropdown data={dropData} />\r\n                </View>\r\n              </View>\r\n\r\n              {/* 喝奶量紀錄 */}\r\n              <View style={styles.box}>\r\n                <Text style={[TextStyle.title_16, { marginBottom: 10 }]}>奶量(cc)</Text>\r\n                <TextInput style={styles.input}\r\n                  placeholder={'本次寶寶喝奶量'}\r\n                  placeholderTextColor={'#ADADAD'}\r\n                  maxLength={3}\r\n                  value={nurse}\r\n                  keyboardType={'number-pad'}\r\n                  onChangeText={(text) => setNurse(text)}\r\n                />\r\n              </View>\r\n\r\n              {/* 時間紀錄 */}\r\n              <View style={styles.box}>\r\n                <Text style={[TextStyle.title_16, { marginBottom: 4 }]}>紀錄時間</Text>\r\n                <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                  <Text style={[TextStyle.title_16, { marginRight: 10 }]}>{Time.FullTime(NowTime)}</Text>\r\n                  <Ionicons name={'reload-outline'} size={20} color={'#3D5478'} onPress={() => setNowTime(Time.NowTime())} />\r\n                </View>\r\n                {show && (\r\n                  <DateTimePicker\r\n                    testID='dateTimePicker'\r\n                    value={date}\r\n                    mode={mode}\r\n                    is24Hour={false}\r\n                    display='default'\r\n                    onChange={onChange}\r\n                  />)}\r\n                <View style={{ width: '60%' }}>\r\n                  <TouchableOpacity style={styles.button} onPress={() => showMode('date')}>\r\n                    <Text style={styles.btn_text}>選擇日期</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={{ width: '60%' }}>\r\n                  <TouchableOpacity style={styles.button} onPress={() => showMode('time')}>\r\n                    <Text style={styles.btn_text}>選擇時間</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              </View>\r\n\r\n            </View>\r\n          </View>\r\n\r\n          <View style={styles.btn_area}>\r\n            <TouchableOpacity style={styles.send_btn} onPress={() => sendData()}>\r\n              <Text style={[styles.btn_text, { fontSize: 18, fontWeight: 'bold', color: '#EBEBEB' }]}>送出</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    </TouchableWithoutFeedback>\r\n  )\r\n}\r\n\r\nexport default AddNurseTime\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  main_bg: {\r\n    width: '93%',\r\n    height: '86%',\r\n    backgroundColor: '#EBEBEB',\r\n    borderRadius: 36,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    marginBottom: 10\r\n  },\r\n  record_bg: {\r\n    width: '100%',\r\n    backgroundColor: '#C9CBE0',\r\n    borderRadius: 36,\r\n    paddingBottom: 10,\r\n    alignItems: 'center'\r\n  },\r\n  box: {\r\n    backgroundColor: '#DBDDF0',\r\n    paddingVertical: 20,\r\n    borderRadius: 20,\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginBottom: 16\r\n  },\r\n  input: {\r\n    width: '60%',\r\n    height: 50,\r\n    backgroundColor: '#EFEFEF',\r\n    borderRadius: 10,\r\n    textAlign: 'center'\r\n  },\r\n  btn_area: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '60%',\r\n    flex: 2,\r\n    paddingVertical:20\r\n  },\r\n  button: {\r\n    alignItems: 'center',\r\n    borderRadius: 10,\r\n    // borderWidth: 2,\r\n    // borderColor: '#3D5478',\r\n    backgroundColor: '#EFEFEF',\r\n    paddingVertical: 12,\r\n    marginTop: 10\r\n  },\r\n  btn_text: {\r\n    color: '#3D5478',\r\n    fontSize: 16\r\n  },\r\n  send_btn: {\r\n    width: '70%',\r\n    backgroundColor: '#3D5478',\r\n    alignItems: 'center',\r\n    borderRadius: 16,\r\n    paddingVertical: 18,\r\n  },\r\n  new_member: {\r\n    position: 'absolute',\r\n    right: -10,\r\n    top: 22,\r\n    color: '#68AEA0'\r\n  }\r\n});\r\n","import React from 'react';\nimport { StyleSheet, Easing } from 'react-native';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator, CardStyleInterpolators } from '@react-navigation/stack';\nimport { ToastProvider } from \"react-native-toast-notifications\";\n\n\n// 其他頁面\nimport LoginScreen from './src/screens/LoginScreen'\nimport SignupScreen from './src/screens/SignupScreen';\nimport HomeScreen from './src/screens/HomeScreen';\nimport HomeDetailScreen from './src/screens/HomeDetailScreen'\nimport AddNurseTime from './src/screens/AddNurseTime';\n\nconst Stack = createStackNavigator();\n\n// Stack開啟換頁時動畫設定\nconst config = {\n  animation: 'spring',\n  config: {\n    stiffness: 1000,\n    damping: 500,\n    mass: 3,\n    overshootClamping: true,\n    restDisplacementThreshold: 0.01,\n    restSpeedThreshold: 0.01,\n  },\n};\n// Stack關閉換頁時動畫設定\nconst closeConfig = {\n  animation: 'timing',\n  config: {\n    duration: 500,\n    easing: Easing.linear\n  }\n}\nconst popUp_o = {\n  headerShown: false,\n  presentation: 'transparentModal',\n  cardStyleInterpolator: CardStyleInterpolators.forBottomSheetAndroid,    // 由下往上滑出\n  cardOverlayEnabled: false,    // 是否背景顯示陰影\n  transitionSpec: {\n    open: config,\n    close: closeConfig\n  },\n}\nconst popUp_s = {\n  headerShown: false,\n  presentation: 'transparentModal',\n  cardStyleInterpolator: CardStyleInterpolators.forBottomSheetAndroid,    // 由下往上滑出\n  cardOverlayEnabled: true,    // 是否背景顯示陰影\n  transitionSpec: {\n    open: config,\n    close: closeConfig\n  },\n}\n\nexport default function App() {\n  return (\n    <ToastProvider placement='top' normalColor='rgba(0, 0, 0, 0.25)'>\n      <NavigationContainer>\n        <Stack.Navigator screenOptions={{ gestureEnabled: true, cardOverlayEnabled: true }}>\n          <Stack.Screen name=\"LoginPage\" component={LoginScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"SignupPage\" component={SignupScreen} options={{ headerShown: false, presentation: 'transparentModal' }} />\n          <Stack.Screen name=\"HomePage\" component={HomeScreen} options={{ headerShown: false }} />\n          <Stack.Screen name=\"HomeDetailPage\" component={HomeDetailScreen} options={popUp_o} />\n          <Stack.Screen name=\"AddNurseTimePage\" component={AddNurseTime} options={popUp_s} />\n        </Stack.Navigator>\n      </NavigationContainer>\n    </ToastProvider>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    // backgroundColor: '#d4d4d4',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n","module.exports = __webpack_public_path__ + \"static/media/right-arrow_y.f950f420.png\";","module.exports = __webpack_public_path__ + \"static/media/baby-boy.cb4fea3c.png\";"],"sourceRoot":""}